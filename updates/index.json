[{"content":"Markdown here\n","description":"test post","id":0,"section":"updates","tags":null,"title":"May 2019","uri":"http://www.shaochenfeng.com/updates/2019_may/"},{"content":"Markdown here\n","description":"test post","id":1,"section":"docs","tags":null,"title":"Basic Usage","uri":"http://www.shaochenfeng.com/docs/gettingstarted/basicusage/"},{"content":"Markdown here\n","description":"test post","id":2,"section":"updates","tags":null,"title":"April 2019","uri":"http://www.shaochenfeng.com/updates/2019_april/"},{"content":"Markdown here\n","description":"test post","id":3,"section":"docs","tags":null,"title":"Configuration","uri":"http://www.shaochenfeng.com/docs/gettingstarted/configuration/"},{"content":"Markdown here\n","description":"test post","id":4,"section":"updates","tags":null,"title":"March 2019","uri":"http://www.shaochenfeng.com/updates/2019_march/"},{"content":"Markdown here\n","description":"test post","id":5,"section":"docs","tags":null,"title":"Installation","uri":"http://www.shaochenfeng.com/docs/gettingstarted/installation/"},{"content":"Markdown here\n","description":"test post","id":6,"section":"updates","tags":null,"title":"February 2019","uri":"http://www.shaochenfeng.com/updates/2019_february/"},{"content":"Markdown here\n","description":"test post","id":7,"section":"docs","tags":null,"title":"Quick Start","uri":"http://www.shaochenfeng.com/docs/gettingstarted/quickstart/"},{"content":"Markdown here\n","description":"test post","id":8,"section":"updates","tags":null,"title":"January 2019","uri":"http://www.shaochenfeng.com/updates/2019_january/"},{"content":"æ£€æŸ¥ä½ çš„é¡¹ç›® å¦‚æœä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ pom.xml æ–‡ä»¶ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯Mavené¡¹ç›®ï¼Œå‚ç…§ä¸‹é¢Mavené¡¹ç›®æ‰§è¡Œ\nå¦‚æœä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ build.gradle æ–‡ä»¶ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯Gradleé¡¹ç›®ï¼Œå‚ç…§ä¸‹é¢Gradleé¡¹ç›®æ‰§è¡Œ\nMavené¡¹ç›® 1.å®‰è£…Maven å¦‚æœå·²ç»å®‰è£…è¿‡mavenï¼Œå¯ä»¥è·³è¿‡è¿™æ­¥\nMavenå¯ä½œä¸ºzipæ–‡ä»¶ä»https://maven.apache.org/download.cgiä¸‹è½½ã€‚\nå®‰è£…Mavenåªéœ€è¦äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸‹è½½ä¸‹å›¾ä¸¤ä¸ªå‹ç¼©åŒ…ä¸­ä¸€ä¸ª\nä¸‹è½½å®Œå‹ç¼©æ–‡ä»¶åï¼Œå°†å…¶è§£å‹ç¼©åˆ°è®¡ç®—æœºä¸Šã€‚ç„¶åå°†binæ–‡ä»¶å¤¹æ·»åŠ åˆ°ç¯å¢ƒå˜é‡pathä¸­ã€‚\næ‰“å¼€Mavenç›®å½•ä¸‹çš„ conf/settings.xml æ–‡ä»¶\næ³¨é‡Šæ‰å®˜æ–¹ä»“åº“ï¼Œæ¢ä½é˜¿é‡Œæºä»¥æé«˜ä¾èµ–ä¸‹è½½é€Ÿåº¦\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u0026lt;mirrors\u0026gt; \u0026lt;!-- \u0026lt;mirror\u0026gt; \u0026lt;id\u0026gt;mirrorId\u0026lt;/id\u0026gt; \u0026lt;mirrorOf\u0026gt;repositoryId\u0026lt;/mirrorOf\u0026gt; \u0026lt;name\u0026gt;Human Readable Name for this Mirror.\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;http://my.repository.com/repo/path\u0026lt;/url\u0026gt; \u0026lt;/mirror\u0026gt; --\u0026gt; \u0026lt;mirror\u0026gt; \u0026lt;id\u0026gt;nexus-aliyun\u0026lt;/id\u0026gt; \u0026lt;mirrorOf\u0026gt;*\u0026lt;/mirrorOf\u0026gt; \u0026lt;name\u0026gt;Nexus aliyun\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;http://maven.aliyun.com/nexus/content/groups/public\u0026lt;/url\u0026gt; \u0026lt;/mirror\u0026gt; \u0026lt;/mirrors\u0026gt;   æµ‹è¯•Mavenå®‰è£…æ˜¯å¦æˆåŠŸï¼Œä»å‘½ä»¤è¡Œè¿è¡Œmvnï¼š\nmvn -v\rå¦‚æœçœ‹åˆ°ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ\n2.ç¼–è¯‘å¹¶è¿è¡Œ ç¼–è¯‘é¡¹ç›®ä¸ºjaråŒ…\nmvn package\rå¯ä»¥æ‰“åŒ…ä¸ºjaræˆ–warï¼Œå–å†³äºpackagingå€¼ï¼Œé€šå¸¸éƒ½æ˜¯jar\njaråŒ…å¯ä»¥ç›´æ¥è¿è¡Œ\njava -jar target/gs-maven-0.1.0.jar\rè‡³æ­¤ï¼Œé¡¹ç›®è¿è¡ŒæˆåŠŸ\nå¦‚æœæœ‰ä¾èµ–é—®é¢˜ï¼Œç”¨è¿™æ¡è¯­å¥å®‰è£…ä¾èµ–\nmvn install\rä¾èµ–éƒ½ä¼šåœ¨pom.xmlä¸­å£°æ˜\nè¿™æ¡è¯­å¥è¿›è¡Œæµ‹è¯•\nmvn test\rGradleé¡¹ç›® 1.å®‰è£…Gradle å¦‚æœå·²ç»å®‰è£…è¿‡Gradleï¼Œå¯ä»¥è·³è¿‡è¿™æ­¥\nGradleå¯ä»https://maven.apache.org/download.cgiä¸‹è½½ã€‚\nå®‰è£…Gradleè¯·ä¸‹è½½ä¸‹å›¾å‘½åæ ¼å¼çš„å‹ç¼©åŒ…\nä¸‹è½½å®Œå‹ç¼©æ–‡ä»¶åï¼Œå°†å…¶è§£å‹ç¼©åˆ°è®¡ç®—æœºä¸Šã€‚ç„¶åå°†binæ–‡ä»¶å¤¹æ·»åŠ åˆ°ç¯å¢ƒå˜é‡pathä¸­ã€‚\næµ‹è¯•Gradleå®‰è£…æ˜¯å¦æˆåŠŸï¼Œä»å‘½ä»¤è¡Œè¿è¡Œgradleï¼š\ngradle -v\rå¦‚æœçœ‹åˆ°ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ\n2.ç¼–è¯‘æ‰§è¡Œ ç¼–è¯‘é¡¹ç›®ä¸ºjaråŒ…\ngradle build\rjaråŒ…å¯ä»¥ç›´æ¥è¿è¡Œ\njava -jar build/libs/XXXX.jar\rè‡³æ­¤ï¼Œé¡¹ç›®è¿è¡ŒæˆåŠŸ\nå¦‚æœé‡åˆ°ä¾èµ–ä¸‹è½½ç¼“æ…¢ï¼Œå¯ä»¥æ‰“å¼€é¡¹ç›®ç›®å½•ä¸‹çš„build.gradleæ–‡ä»¶ï¼Œæ‰¾åˆ° repositoriesï¼Œæ³¨é‡Šæ‰mavenCentral(),ä½¿ç”¨é˜¿é‡Œäº‘çš„ä»“åº“åœ°å€\nrepositories {\r//mavenCentral()\rmaven {\rurl 'http://maven.aliyun.com/nexus/content/groups/public/'\r}\r}\r","description":"","id":9,"section":"blog","tags":["Maven","Gradle"],"title":"ç”¨å‘½ä»¤è¡Œæ„å»ºå’Œè¿è¡Œspringbooté¡¹ç›®","uri":"http://www.shaochenfeng.com/blog/%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%9E%84%E5%BB%BA%E8%BF%90%E8%A1%8Cspringboot%E9%A1%B9%E7%9B%AE/"},{"content":"å…¨éƒ¨æ¡ˆä¾‹ é…ç½®gitç”¨æˆ·åé‚®ä»¶\nå•çº¯çš„ä¸‹è½½ä¸€ä¸ªä»“åº“\nå°†è¿œç¨‹ä»“åº“çš„æ›´æ–°æ‹‰åˆ°æœ¬åœ°ä»“åº“ï¼ˆä¸å½±å“æœ¬åœ°å·²æœ‰çš„æäº¤ï¼‰\nå°†æœ¬åœ°ä¿®æ”¹ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“\nå°†æœ¬åœ°æ›´æ”¹ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ï¼Œå¹¶ä½¿æœ¬åœ°è¿œç¨‹ä¸€è‡´\næ–°å»ºä¸€ä¸ªä»“åº“å¹¶ç”¨æœ¬åœ°ä»£ç åˆå§‹åŒ–\næˆ‘ä¸æƒ³åŒæ­¥æŸäº›æ–‡ä»¶/æ–‡ä»¶å¤¹\nä»masteråˆ›å»ºä¸´æ—¶åˆ†æ”¯ä½œä¿®æ”¹ï¼Œç„¶ååˆå¹¶åˆ°ä¸»åˆ†æ”¯\nåˆ é™¤ä»“åº“æ‰€æœ‰å†å²è®°å½•ï¼Œä»…ä¿ç•™å½“å‰æ–‡ä»¶\nä¿®æ”¹å‰næ¬¡commitçš„æäº¤ä¿¡æ¯\né…ç½®gitç”¨æˆ·åé‚®ä»¶ 1 2  git config --global user.name \u0026#34;Your Name\u0026#34; git config --global user.email \u0026#34;email@example.com\u0026#34;   å•çº¯çš„ä¸‹è½½ä¸€ä¸ªä»“åº“ æœ€å¸¸ç”¨çš„æ–¹æ³•\n1  git clone https://github.com/xxx/xxx.git   é¡¹ç›®å¤ªå¤§ï¼Œæƒ³å¿«ç‚¹ä¸‹è½½ï¼Œä¸éœ€è¦å†å²è®°å½•\n1  git clone --depth 1 https://github.com/xxx/xxx.git   æƒ³å¿«é€Ÿä¸‹è½½émasteråˆ†æ”¯\n1 2 3 4 5  git clone --depth 1 https://github.com/xxx/xxx.git cd xxx git remote set-branches origin \u0026#39;remote_branch_name\u0026#39; git fetch --depth 1 origin remote_branch_name git checkout remote_branch_name   å°†è¿œç¨‹ä»“åº“çš„æ›´æ–°æ‹‰åˆ°æœ¬åœ°ä»“åº“ï¼ˆä¸å½±å“æœ¬åœ°å·²æœ‰çš„æäº¤ï¼‰ 1  git pull origin master   å°†æœ¬åœ°ä¿®æ”¹ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ 1 2 3  git add . git commit -m \u0026#34;æäº¤è¯´æ˜\u0026#34; git push origin master   å°†æœ¬åœ°æ›´æ”¹ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ï¼Œå¹¶ä½¿æœ¬åœ°è¿œç¨‹ä¸€è‡´ 1 2 3 4  git add . git commit -m \u0026#34;æäº¤è¯´æ˜\u0026#34; git pull origin master git push origin master   æ–°å»ºä¸€ä¸ªä»“åº“å¹¶ç”¨æœ¬åœ°ä»£ç åˆå§‹åŒ– é¦–å…ˆåˆ°githubæˆ–å…¶ä»–gitç½‘ç«™ä¸Šåˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ï¼Œè·å¾—æ–°ä»“åº“åœ°å€ï¼Œç±»ä¼¼äº https://github.com/xxx/xxx.git\n1 2 3 4 5  git init git add -A git commit -m \u0026#34;åˆå§‹åŒ–ä»£ç \u0026#34; git remote add origin https://github.com/xxx/xxx.git git push -u origin master   æˆ‘ä¸æƒ³åŒæ­¥æŸäº›æ–‡ä»¶/æ–‡ä»¶å¤¹ åœ¨ä»“åº“çš„æ ¹ç›®å½•ä¸‹æ–°å»º .gitignore æ–‡ä»¶\nå…¶ä¸­å†™ä¸Šè¦å¿½ç•¥çš„å†…å®¹ï¼Œæ”¯æŒæ–‡ä»¶ã€æ–‡ä»¶å¤¹ã€é€šé…ç¬¦\n1 2 3 4  target/ .idea/ *.log somefile.txt   ä»masteråˆ›å»ºä¸´æ—¶åˆ†æ”¯ä½œä¿®æ”¹ï¼Œç„¶ååˆå¹¶åˆ°ä¸»åˆ†æ”¯  åˆ›å»ºä¸´æ—¶åˆ†æ”¯  1 2 3 4 5 6  git checkout master git pull origin master git checkout -b tmp git push origin tmp # åœ¨è¿œç¨‹ä¹Ÿåˆ›å»ºä¸´æ—¶åˆ†æ”¯ git branch --set-upstream-to=origin/tmp git pull origin tmp   ç”¨ä½ å–œæ¬¢çš„æ–¹å¼ä½œä¿®æ”¹ä»£ç ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å¯ä»¥æäº¤ä»£ç   1 2 3  git add . git commit -m \u0026#34;æäº¤è¯´æ˜\u0026#34; git push origin tmp   æœ€ååˆå¹¶åˆ†æ”¯tmpåˆ°masterï¼Œç„¶ååˆ é™¤tmp  1 2 3 4 5  git checkout master git merge tmp git push origin master git branch -d tmp git push origin --delete tmp   åˆ é™¤ä»“åº“æ‰€æœ‰å†å²è®°å½•ï¼Œä»…ä¿ç•™å½“å‰æ–‡ä»¶ 1 2 3 4 5 6  git checkout --orphan lastest # ä»0æ–°å»ºåˆ†æ”¯ git add -A # æ·»åŠ æ‰€æœ‰å½“å‰æ–‡ä»¶åˆ°åˆ†æ”¯ git commit -m \u0026#34;initä¿¡æ¯\u0026#34; git branch -D master # åˆ é™¤masteråˆ†æ”¯ git branch -m master # é‡å‘½åå½“å‰åˆ†æ”¯ä¸ºmaster git push -f origin master # å¼ºåˆ¶æäº¤åˆ°è¿œç¨‹   ä¿®æ”¹å‰næ¬¡commitçš„æäº¤ä¿¡æ¯ 1 2 3 4  git rebase -i HEAD~n # è¿™é‡ŒæŸ¥çœ‹æœ€è¿‘næ¬¡commitæäº¤ä¿¡æ¯ # ç„¶åè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå°†éœ€è¦ä¿®æ”¹çš„commité‚£ä¸€è¡Œçš„pickä¿®æ”¹ä¸ºeditï¼Œä¿å­˜é€€å‡º git commit --amend # è¿™ä¼šè¿›å…¥ä¸Šé¢ä¿®æ”¹å¯¹åº”çš„commitæäº¤ä¿¡æ¯ git rebase --continue # å›åˆ°æ­£å¸¸çŠ¶æ€   ","description":"","id":10,"section":"blog","tags":["git"],"title":"å†™ç»™å¤§å¿™äººçœ‹çš„Gitæ¡ˆä¾‹æ€»ç»“","uri":"http://www.shaochenfeng.com/blog/%E5%86%99%E7%BB%99%E5%A4%A7%E5%BF%99%E4%BA%BA%E7%9C%8B%E7%9A%84git%E6%A1%88%E4%BE%8B%E6%80%BB%E7%BB%93/"},{"content":"å®‰è£…ä¸­æ–‡æ”¯æŒ ä¸ç„¶å®‰è£…ä»¥åwebç•Œé¢ä¸èƒ½è®¾ç½®ä¸ºä¸­æ–‡\n1 2  dnf install langpacks-zh_CN # åœ¨centos7ä¸­æ˜¯ yum install kde-l10n-Chinese   ä¸‹è½½æºç  æµè§ˆå™¨æ‰“å¼€ https://www.zabbix.com/download_sources\nä¸‹è½½æœ€æ–°çš„é•¿æœŸæ”¯æŒç‰ˆï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨\nåœ¨æœåŠ¡å™¨è§£å‹\n1 2 3 4 5  tar -zxvf zabbix-4.4.4.tar.gz cd zabbix-4.4.4/ # å¢åŠ zabbixä½¿ç”¨çš„ç»„å’Œç”¨æˆ· groupadd --system zabbix useradd --system -g zabbix -d /usr/lib/zabbix -s /sbin/nologin -c \u0026#34;Zabbix Monitoring System\u0026#34; zabbix   é…ç½®æ•°æ®åº“ éœ€è¦å…ˆå®‰è£…æ•°æ®åº“ï¼Œmysql5.7åŠä»¥ä¸Šï¼Œæ²¡æœ‰å®‰è£…çš„å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  yumå®‰è£…mysql8\nç„¶åé…ç½®zabbixçš„æ•°æ®åº“å’Œç”¨æˆ·æƒé™\n1 2 3 4 5  mysql -uroot -p # è¾“å…¥ç™»é™†å¯†ç  mysql\u0026gt; create database zabbix character set utf8 collate utf8_bin; mysql\u0026gt; grant all privileges on zabbix.* to zabbix@localhost identified by \u0026#39;123\u0026#39;; mysql\u0026gt; quit;   å¯¼å…¥zabbixæ•°æ®åº“\n1 2 3  mysql -uzabbix -p123 zabbix \u0026lt; database/mysql/schema.sql mysql -uzabbix -p123 zabbix \u0026lt; database/mysql/images.sql mysql -uzabbix -p123 zabbix \u0026lt; database/mysql/data.sql   ç¼–è¯‘zabbix é¦–å…ˆå®‰è£…ç¼–è¯‘è¦ç”¨åˆ°çš„å·¥å…·ï¼Œé™¤äº†ä¸‹é¢æ ‡å‡ºçš„è¿˜éœ€è¦å¸¸è§„ç¼–è¯‘ç»å¸¸ç”¨åˆ°çš„ gcc ç­‰ï¼ŒæŠ¥é”™çš„æ—¶å€™ç¼ºå•¥è¡¥å•¥å³å¯\n1  dnf -y install net-snmp-devel libevent-devel libxml2-devel libcurl-devel pcre-devel   ç¼–è¯‘å®‰è£…\n./configure --enable-server --enable-agent --with-mysql=/usr/local/mysql/bin/mysql_config --enable-ipv6 --with-net-snmp --with-libcurl --with-libxml2 --prefix=/opt/zabbix4.0\r# æœ€åä¸€ä¸ªé€‰é¡¹ï¼Œæˆ‘å®‰è£…åˆ°äº† /opt/zabbix4.0 ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ç›®å½•\rmake install\ré…ç½® ä¿®æ”¹ agentd ç«¯å’Œ server ç«¯çš„é…ç½®ï¼Œä¸»è¦é…ç½®æ•°æ®åº“è´¦å·å¯†ç å’Œè¿æ¥æ–¹å¼ï¼Œé¡ºä¾¿é…ç½®æ—¥å¿—ä½ç½®\ncd /opt/zabbix4.0\nvim etc/zabbix_agentd.conf\n# è¿™äº›é…ç½®æ‰¾åˆ°å¯¹åº”çš„è¡Œä¿®æ”¹å³å¯\rServer=127.0.0.1\rLogFile=/opt/zabbix4.0/zabbix_agentd.log\rPidFile=/opt/zabbix4.0/zabbix_agentd.pid\rvim etc/zabbix_server.conf\nLogFile=/opt/zabbix4.4/zabbix_server.log\rPidFile=/opt/zabbix4.4/zabbix_server.pid\rDBPassword=123\rDBSocket=/tmp/mysql.sock\rnginxè™šæ‹Ÿä¸»æœºé…ç½® ä¸ºäº†ä¸å½±å“å½“å‰çš„ç½‘ç«™ï¼Œæˆ‘ä»¬ä½¿ç”¨è™šæ‹Ÿä¸»æœºçš„æ¥é…ç½®zabbix webç•Œé¢\né¦–å…ˆå‚ç…§ç½‘ä¸Šçš„æ•™ç¨‹å®‰è£…nginxå¹¶é…ç½®php\nå°† zabbix web æ–‡ä»¶å¤åˆ¶åˆ° nginxç›®å½•\ncd /usr/share/nginx\nmkdir zabbix\ncp ~/zabbix-4.0/frontends/php/* zabbix/ -r\nchown nginx:nginx zabbix -R\né…ç½®è™šæ‹Ÿä¸»æœº\nvim /etc/nginx/nginx.conf\n#å¢åŠ \rserver {\rlisten 80;\rlisten [::]:80;\raccess_log log/zabbix.ä½ çš„åŸŸå.com;\rerror_log log/zabbix.ä½ çš„åŸŸå.com.err error;\rserver_name zabbix.ä½ çš„åŸŸå.com;\rroot /usr/share/nginx/zabbix\rlocation / {\r}\r}\ræœ€å è®¿é—® http://zabbix.ä½ çš„åŸŸå.com/ çš†å¯å®‰è£…\né»˜è®¤çš„è´¦æˆ·å¯†ç æ˜¯ Admin/zabbix\nå®˜æ–¹å®‰è£…æ•™ç¨‹ã€è‹±æ–‡ã€‘ https://www.zabbix.com/documentation/4.0/manual/installation/install\n","description":"","id":11,"section":"blog","tags":["CentOS8","zabbix"],"title":"Centos8å®‰è£…zabbixç›‘æ§ï¼Œæºç æ–¹å¼","uri":"http://www.shaochenfeng.com/blog/cento8%E5%AE%89%E8%A3%85szabbix%E7%9B%91%E6%8E%A7/"},{"content":"ç¬¬ä¸€æ¬¡æ¥è§¦RPMåŒ…çš„æ¦‚å¿µï¼Œåˆå­¦è€…å¯èƒ½ä¼šä¸çŸ¥æ‰€æªï¼Œå› ä¸ºå®ƒç»™äººç•™ä¸‹äº†å­¦ä¹ æ›²çº¿é™¡å³­çš„çš„å°è±¡ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†æ¼”ç¤ºç”¨æœ€å°‘çš„çŸ¥è¯†å’Œç»éªŒæ¥æ„å»ºRPMã€‚è¯·æ³¨æ„ï¼Œæœ¬æ–‡åªæ˜¯ä½œä¸ºå…¥é—¨ï¼Œè€Œä¸æ˜¯RPMçš„å®Œæ•´æŒ‡å—ã€‚\nåŸºäºASCIIçš„ä¿„ç½—æ–¯æ–¹å—æ¸¸æˆ åœ¨æˆ‘çš„æ¼”ç¤ºä¸­ï¼Œæˆ‘é€‰æ‹©äº†ä¸€ä¸ªç®€å•çš„åŸºäºASCIIçš„ç»ˆç«¯æ¸¸æˆï¼Œç”¨Cç¼–å†™ã€‚è¿‡ç¨‹ä¸­åšäº†ä¸€äº›ç»†å¾®çš„è°ƒæ•´ä»¥ç¡®ä¿å¯ä»¥ç›¸å¯¹ç®€å•çš„è¿›è¡ŒRPMæ„å»ºã€‚æˆ‘å°†ä»¥ä¸€ä¸ªåä¸ºVitetrisçš„æ¸¸æˆä¸ºä¾‹ã€‚æ‚¨å¯ä»¥ä¸‹è½½è¯¥æ¸¸æˆã€‚\nä¸ºç¡®ä¿åˆ›å»ºRPMè½¯ä»¶åŒ…æ—¶æ²¡æœ‰é”™è¯¯ï¼Œæˆ‘åˆ é™¤äº†Makefileä¸­å°†æ–‡ä»¶æƒé™æ›´æ”¹ä¸ºrootçš„å‚æ•°ï¼Œä»¥å…è®¸érootç”¨æˆ·æ„å»ºRPMã€‚ä¿®æ”¹å¦‚ä¸‹ï¼š\n$ cat Makefile |grep 'INSTALL '\rINSTALL = install\r#INSTALL = install -oroot -groot # non-root users building the rpm won't be able to set this and the RPM build will fail.\rè¿›è¡Œæ­¤æ›´æ”¹åï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°çš„å‹ç¼©tarballï¼Œé‡å‘½åä¸ºï¼švitetris-0.57.tar.gzã€‚\nå‡†å¤‡ç¯å¢ƒ å®‰è£…å¼€å‘ç¯å¢ƒåœ¨çº¢å¸½ä¼ä¸šLinuxï¼ˆRHELï¼‰7ç³»ç»Ÿä¸Šï¼Œä½ éœ€è¦ä»¥ä¸‹å­˜å‚¨åº“æ„å»ºRPMï¼šrhel-7-server-rpmsï¼Œrhel-7-server-extras-rpmså’Œrhel-7-server-optional-rpmsã€‚\næ‚¨éœ€è¦å®‰è£…ä»¥ä¸‹è½¯ä»¶åŒ…ï¼š\n# yum install -y rpm* gcc gpg* rng-tools\ræˆ‘ä½¿ç”¨rpm*ï¼Œgpg*å› ä¸ºå®ƒä½¿å®‰è£…æ—¶è¦è®°ä½çš„äº‹æƒ…å˜å¾—æ›´å°‘æ›´åŠ æ˜“äºç®¡ç†ã€‚\næ‰‹åŠ¨ç¼–è¯‘è½¯ä»¶ RPMæ‰“åŒ…æˆåŠŸçš„å¾ˆå¤§ä¸€æ­¥æ˜¯äº†è§£æ‚¨æ­£åœ¨ä½¿ç”¨çš„è½¯ä»¶ã€‚é¦–å…ˆï¼Œæœ€å¥½ä»¥érootç”¨æˆ·èº«ä»½è¿›è¡Œæ‰‹åŠ¨ç¼–è¯‘è½¯ä»¶ã€‚æˆ‘ä½¿ç”¨rpmbuilderç”¨æˆ·ã€‚\né¦–å…ˆæå–å‹ç¼©çš„tarballï¼ˆvitetris-0.57.tar.gzï¼‰ï¼Œç„¶åæ£€æŸ¥READMEæ–‡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè‡ªè¿°æ–‡ä»¶ä¸åŒ…å«æœ‰å…³ä»æºä»£ç ç¼–è¯‘æ¸¸æˆçš„ä¿¡æ¯ã€‚ä¸€èˆ¬çš„ï¼Œç”¨Cè¯­è¨€ç¼–å†™çš„å¼€æºè½¯ä»¶ç¼–è¯‘å¯åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šconfigureï¼Œmakeï¼Œå’Œmake installã€‚è¿™æ¬¡æˆ‘ä»¬å•ç‹¬è¿è¡Œmakeä»¥æŸ¥çœ‹è½¯ä»¶æ˜¯å¦å¯ä»¥æ„å»ºã€‚\nä½œä¸ºérootç”¨æˆ·ï¼Œè¯·æµ‹è¯•è¿è¡Œmakeæ˜¯å¦æˆåŠŸï¼š\n[rpmbuilder@rpm vitetris-0.57]$ make\rgenerating src/src-conf.mk\r./src-conf.sh 'cc' '' ''\r...\rDone.\rNow run ./tetris (or make install)\rè¦æµ‹è¯•æ¸¸æˆï¼Œåªéœ€è¿è¡Œ./tetrisä»¥æŸ¥çœ‹æ¸¸æˆæ˜¯å¦å¯ä»¥æ­£å¸¸æ¸¸ç©ï¼š\nåˆ›å»ºGPGå¯†é’¥ å¯¹æ‚¨çš„RPMè½¯ä»¶åŒ…è¿›è¡Œç­¾åä¼šè®©æ‚¨çš„è½¯ä»¶åŒ…æ›´å¯ä¿¡ã€‚å› æ­¤ï¼Œè¦ä»¥rpmbuilderç”¨æˆ·èº«ä»½åˆ›å»ºGPGå¯†é’¥ã€‚æ‚¨éœ€è¦ä¸€ä¸ªå…·æœ‰rootæƒé™çš„ä¼šè¯æ¥è¿è¡Œrngdï¼ˆä»¥åŠ å¿«ç”Ÿæˆè¿‡ç¨‹ï¼‰ï¼Œå¹¶éœ€è¦ä¸€ä¸ªå…·æœ‰X11è½¬å‘åŠŸèƒ½çš„ä¼šè¯ä½œä¸ºrpmbuilderç”¨æˆ·ã€‚\nä»¥rootèº«ä»½è¿è¡Œï¼š\n# rngd -r /dev/urandom\rå¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š\nFailed to init entropy source 2: Intel RDRAND Instruction RNG\rå°è¯•ï¼š\n# rngd -r /dev/urandom -o /dev/random -f\ræ‚¨å¿…é¡»ä»¥å…·æœ‰X11è½¬å‘åŠŸèƒ½çš„rpmbuilderç”¨æˆ·ä¼šè¯ç™»å½•åˆ°ä¸»æœºï¼ˆå¦åˆ™ï¼Œå¯†é’¥ç”Ÿæˆå°†å¤±è´¥ï¼‰ï¼š\n$ gpg --gen-key\r...\rPlease select what kind of key you want:\r(1) RSA and RSA (default)\r(2) DSA and Elgamal\r(3) DSA (sign only)\r(4) RSA (sign only)\rYour selection? 1\rRSA keys may be between 1024 and 4096 bits long.\rWhat keysize do you want? (2048) Requested keysize is 2048 bits\rPlease specify how long the key should be valid.\r0 = key does not expire\r\u0026lt;n\u0026gt; = key expires in n days\r\u0026lt;n\u0026gt;w = key expires in n weeks\r\u0026lt;n\u0026gt;m = key expires in n months\r\u0026lt;n\u0026gt;y = key expires in n years\rKey is valid for? (0) Key does not expire at all\rIs this correct? (y/N) y\rGnuPG needs to construct a user ID to identify your key.\rReal name: RPM Build User\rEmail address: rpmbuilder@rpm\rComment: RPM Builder GPG Signing Key\rYou selected this USER-ID:\r\u0026quot;RPM Build User (RPM Builder GPG Signing Key) \u0026lt;rpmbuilder@rpm\u0026gt;\u0026quot;\rChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O\rYou need a Passphrase to protect your secret key.\r ä»…å½“æ‚¨æ‰“å¼€X11è½¬å‘æ—¶ï¼Œæ‰ä¼šå‡ºç°æ­¤æç¤ºã€‚\n ...\rgpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u\rpub 2048R/EEF6D9AD 2019-03-02\rKey fingerprint = 6ED1 2456 B7ED EEC6 D0DF B870 444A 40A7 EEF6 D9AD\ruid RPM Build User (RPM Builder GPG Signing Key) \u0026lt;rpmbuilder@rpm\u0026gt;\rsub 2048R/D498F883 2019-03-02\rå¦‚æœæ‚¨éœ€è¦åœ¨è‡ªå®šä¹‰è½¯ä»¶æˆ–åœ¨yumä»“åº“é…ç½®ä¸­ä½¿ç”¨çš„æ­¤å¯†é’¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯¼å‡ºå¯†é’¥ï¼š\n$ gpg --armor --export\r-----BEGIN PGP PUBLIC KEY BLOCK-----\rVersion: GnuPG v2.0.22 (GNU/Linux)\rä¸ºVitetrisæ¸¸æˆåˆ›å»ºRPMåŒ… è¦æ„å»ºRPMï¼Œé¦–å…ˆåˆ›å»ºæ„å»ºç›®å½•æ ‘å’Œspecæ–‡ä»¶ï¼Œç„¶åå°†æºä»£ç æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ï¼š\n$ rpmdev-setuptree\r$ rpmdev-newspec rpmbuild/SPECS/vitetris.spec\rrpmbuild/SPECS/vitetris.spec created; type minimal, rpm version \u0026gt;= 4.11.\r$ cp vitetris-0.57.tar.gz rpmbuild/SOURCES/\rå°†åˆå§‹è¯¦ç»†ä¿¡æ¯æ·»åŠ åˆ°specæ–‡ä»¶ä¸­ æä¾›åˆå§‹è¯¦ç»†ä¿¡æ¯ï¼š\nName: vitetris\rVersion: 0.57\rRelease: 1%{?dist}\rSummary: ASCII based tetris game\rLicense: BSD\rURL: https://www.victornils.net/tetris/\rSource0: vitetris-0.57.tar.gz\rBuildRequires: gcc\råˆ é™¤ä¸å¿…è¦çš„éƒ¨åˆ†  åˆ é™¤è¯¥Requireséƒ¨åˆ†ï¼Œå› ä¸ºæ­¤è½¯ä»¶æ²¡æœ‰ä»»ä½•ä¾èµ–æ€§ã€‚ åˆ é™¤æ­¤%configureéƒ¨åˆ†ï¼Œå› ä¸ºæ— éœ€æ„å»ºæ­¤è½¯ä»¶configureï¼ˆå¦‚æœéœ€è¦configureï¼Œè¯·ä¿ç•™æ­¤éƒ¨åˆ†ï¼Œç„¶åå†è¿è¡Œmakeï¼‰ã€‚  æ·»åŠ æè¿°ä¿¡æ¯ æ‚¨å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ä»»ä½•æ‚¨å–œæ¬¢çš„ä¸œè¥¿ï¼Œè¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š\n%description\rvitetris is a multiplayer ASCII-based Tetris game\ræµ‹è¯•åˆå§‹ç‰ˆæœ¬ ä½¿ç”¨åˆšåˆšæä¾›çš„ä¿¡æ¯æµ‹è¯•æ„å»ºï¼ŒæŸ¥çœ‹å‡ºç°äº†å“ªäº›é”™è¯¯ï¼š\n$ rpmbuild -ba rpmbuild/SPECS/vitetris.spec\r...\rRPM build errors:\rInstalled (but unpackaged) file(s) found:\r/usr/local/bin/tetris\r/usr/local/share/applications/vitetris.desktop\r/usr/local/share/doc/vitetris/README\r/usr/local/share/doc/vitetris/licence.txt\r/usr/local/share/pixmaps/vitetris.xpm\rå°†ä¸Šä¸€æ­¥ä¸­çš„æ–‡ä»¶åˆ—è¡¨æ·»åŠ åˆ°è§„èŒƒæ–‡ä»¶ æ‚¨éœ€è¦å°†ä¸Šä¸€æ­¥ä¸­çš„æ–‡ä»¶åˆ—è¡¨æ·»åŠ åˆ°specæ–‡ä»¶çš„%filesèŠ‚ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n%files\r/usr/local/bin/tetris\r/usr/local/share/applications/vitetris.desktop\r%doc /usr/local/share/doc/vitetris/README\r/usr/local/share/doc/vitetris/licence.txt\r/usr/local/share/pixmaps/vitetris.xpm\rè¯·æ³¨æ„ï¼Œåœ¨è‡ªè¿°æ–‡ä»¶çš„å‰é¢éœ€è¦æ”¾ä¸Š%docï¼Œä»¥å°†å…¶æ ‡è¯†ä¸ºå‚è€ƒæ–‡ä»¶ã€‚æ²¡æœ‰è¿™ä¸ªï¼ŒRPMä»ç„¶ä¼šæˆåŠŸæ„å»ºã€‚\né‡æ–°è¿è¡Œæ„å»º $ rpmbuild -ba rpmbuild/SPECS/vitetris.spec\rWrote: /home/rpmbuilder/rpmbuild/SRPMS/vitetris-0.57-1.el7.src.rpm\rWrote: /home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-0.57-1.el7.x86_64.rpm\rWrote: /home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-debuginfo-0.57-1.el7.x86_64.rpm\rExecuting(%clean): /bin/sh -e /var/tmp/rpm-tmp.AqR4Aq\r+ umask 022\r+ cd /home/rpmbuilder/rpmbuild/BUILD\r+ cd vitetris-0.57\r+ /usr/bin/rm -rf /home/rpmbuilder/rpmbuild/BUILDROOT/vitetris-0.57-1.el7.x86_64\r+ exit 0\rç»™RPMåŒ…ç­¾å ç»™RPMåŒ…ç­¾åå¾ˆç®€å•ï¼š\n$ rpmsign --addsign /home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-0.57-1.el7.x86_64.rpm Enter pass phrase: Pass phrase is good. /home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-0.57-1.el7.x86_64.rpm:\rå¦‚æœå‡ºç°æ­¤é”™è¯¯ï¼š\nYou must set \u0026quot;%_gpg_name\u0026quot; in your macro file\råˆ™éœ€è¦åœ¨ä½ çš„å…¬é’¥å€¼ä¸­è®¾ç½®%_gpg_nameï¼š\n$ gpg --list-keys /home/rpmbuilder/.gnupg/pubring.gpg\r-----------------------------------\rpub 2048R/EEF6D9AD 2019-03-02\ruid RPM Build User (RPM Builder GPG Signing Key) \u0026lt;rpmbuilder@rpm\u0026gt;\rsub 2048R/D498F883 2019-03-02\r$ echo \u0026quot;%_gpg_name EEF6D9AD\u0026quot; \u0026gt;\u0026gt; .rpmmacros\rå†è¯•ä¸€æ¬¡ï¼š\n$ rpmsign --addsign /home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-0.57-1.el7.x86_64.rpm\rEnter pass phrase: Pass phrase is good.\r/home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-0.57-1.el7.x86_64.rpm:\rä»¥rootç”¨æˆ·èº«ä»½æµ‹è¯•RPMåŒ…çš„å®‰è£…/å¸è½½ # rpm -i /home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-0.57-1.el7.x86_64.rpm\rwarning: /home/rpmbuilder/rpmbuild/RPMS/x86_64/vitetris-0.57-1.el7.x86_64.rpm: Header V4 RSA/SHA1 Signature, key ID eef6d9ad: NOKEY\r# /usr/local/bin/tetris\rå¸è½½RPMï¼š\n# rpm -qa |grep tetris\rvitetris-0.57-1.el7.x86_64\r=# rpm -e vitetris-0.57-1.el7.x86_64\r# /usr/local/bin/tetris\r-bash: /usr/local/bin/tetris: No such file or directory\rç»“è®º æ ¹æ®éœ€æ±‚æ‰“åŒ…è‡ªå®šä¹‰RPMåŒ…é€šå¸¸å¯èƒ½ä¼šå¾ˆå›°éš¾ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æ—¨åœ¨è¯´æ˜ï¼Œå¾ˆå°‘çš„é…ç½®ä¹Ÿè¶³ä»¥æ„å»ºRPMã€‚\nè¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…Red Hatçš„RPMåŒ…è£…æŒ‡å—ã€‚\nåŸæ–‡é“¾æ¥ï¼šhttps://developers.redhat.com/blog/2019/03/18/rpm-packaging-guide-creating-rpm/\nä½œè€…ï¼šMohammad Ahmad\nè¯‘è€…ï¼šé‚µæ™¨å³°\n","description":"","id":12,"section":"blog","tags":["RPM","ç¿»è¯‘"],"title":"RPMå°è£…ï¼šåˆ›å»ºä¸€ä¸ªRPMåŒ…çš„ç®€åŒ–æŒ‡å—","uri":"http://www.shaochenfeng.com/blog/rpm%E5%B0%81%E8%A3%85%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AArpm%E5%8C%85%E7%9A%84%E7%AE%80%E5%8C%96%E6%8C%87%E5%8D%97/"},{"content":"ä¸€. è®¾ç½®firewallè§„åˆ™ ä¾‹1ï¼šå¯¹å¤–æš´éœ²8080ç«¯å£\nfirewall-cmd --permanent --add-port=8080/tcp\rä¾‹2ï¼šä½¿mysqlæœåŠ¡çš„3306ç«¯å£åªå…è®¸192.168.1.1/24ç½‘æ®µçš„æœåŠ¡å™¨èƒ½è®¿é—®\n#æ·»åŠ è§„åˆ™\rfirewall-cmd --permanent --add-rich-rule=\u0026quot;rule family=\u0026quot;ipv4\u0026quot; source address=\u0026quot;192.168.1.1/24\u0026quot; port protocol=\u0026quot;tcp\u0026quot; port=\u0026quot;3306\u0026quot; accept\u0026quot;\r#reloadä½¿ç”Ÿæ•ˆ\rfirewall-cmd --reload\rä¾‹3ï¼šç«¯å£è½¬å‘ï¼Œå°†åˆ°æœ¬æœºçš„3306ç«¯å£çš„è®¿é—®è½¬å‘åˆ°192.168.1.1æœåŠ¡å™¨çš„3306ç«¯å£\n# å¼€å¯ä¼ªè£…IP\rfirewall-cmd --permanent --add-masquerade\r# é…ç½®ç«¯å£è½¬å‘\rfirewall-cmd --permanent --add-forward-port=port=3306:proto=tcp:toaddr=192.168.1.2:toport=13306\ræ³¨æ„ï¼šå¦‚æœä¸å¼€å¯ä¼ªè£…IPï¼Œç«¯å£è½¬å‘ä¼šå¤±è´¥ï¼›å…¶æ¬¡ï¼Œè¦ç¡®ä¿æºæœåŠ¡å™¨ä¸Šçš„ç«¯å£ï¼ˆ3306ï¼‰å’Œç›®æ ‡æœåŠ¡å™¨ä¸Šçš„ç«¯å£ï¼ˆ13306ï¼‰æ˜¯å¼€å¯çš„ã€‚\näºŒ. firewallå‘½ä»¤ 1.å¯åŠ¨, åœæ­¢, é‡å¯firewalld  åœæ­¢  systemctl stop firewalld.service å¯åŠ¨  systemctl start firewalld.service é‡å¯  systemctl restart firewalld.service\ræŸ¥çœ‹çŠ¶æ€  systemctl status firewalld ç¦æ­¢firewallå¼€æœºå¯åŠ¨  systemctl disable firewalld\rè®¾ç½®å¼€æœºå¯ç”¨é˜²ç«å¢™\nsystemctl enable firewalld.service  2.æŸ¥çœ‹firewallè§„åˆ™ä¸çŠ¶æ€  æŸ¥çœ‹é»˜è®¤é˜²ç«å¢™çŠ¶æ€ï¼ˆå…³é—­åæ˜¾ç¤ºnotrunningï¼Œå¼€å¯åæ˜¾ç¤ºrunningï¼‰  firewall-cmd --state æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™ï¼ˆåªæ˜¾ç¤º/etc/firewalld/zones/public.xmlä¸­é˜²ç«å¢™ç­–ç•¥ï¼‰  firewall-cmd --list-all æŸ¥çœ‹æ‰€æœ‰çš„é˜²ç«å¢™ç­–ç•¥ï¼ˆå³æ˜¾ç¤º/etc/firewalld/zones/ä¸‹çš„æ‰€æœ‰ç­–ç•¥ï¼‰  firewall-cmd --list-all-zones é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶  firewall-cmd --reload é…ç½®firewalld-cmd  æŸ¥çœ‹ç‰ˆæœ¬ï¼š firewall-cmd --version\ræŸ¥çœ‹å¸®åŠ©ï¼š firewall-cmd --help\ræ˜¾ç¤ºçŠ¶æ€ï¼š firewall-cmd --state\ræŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼š firewall-cmd --zone=public --list-ports\ræ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š firewall-cmd --reload\ræŸ¥çœ‹åŒºåŸŸä¿¡æ¯: firewall-cmd --get-active-zones\ræŸ¥çœ‹æŒ‡å®šæ¥å£æ‰€å±åŒºåŸŸï¼š firewall-cmd --get-zone-of-interface=eth0\ræ‹’ç»æ‰€æœ‰åŒ…ï¼šfirewall-cmd --panic-on\rå–æ¶ˆæ‹’ç»çŠ¶æ€ï¼š firewall-cmd --panic-off\ræŸ¥çœ‹æ˜¯å¦æ‹’ç»ï¼š firewall-cmd --query-panic\r4. å¼€å¯ä¸€ä¸ªç«¯å£  æ·»åŠ ï¼ˆ\u0026ndash;permanentæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆï¼‰  firewall-cmd --zone=public --add-port=80/tcp --permanent\ré‡æ–°è½½å…¥(ä¿®æ”¹è§„åˆ™åä½¿å…¶ç”Ÿæ•ˆ)  firewall-cmd --reload\ræŸ¥çœ‹  firewall-cmd --zone=public --query-port=80/tcp\råˆ é™¤  firewall-cmd --zone=public --remove-port=80/tcp --permanent\rå› ä¸ºåœ¨/usr/lib/firewalld/services/ä¸­äº‹å…ˆå®šä¹‰äº†ssh.xmlç­‰ç›¸åº”çš„è§„åˆ™ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è¿ç”¨è§„åˆ™\nfirewall-com --zone=public --add-server=ssh --permanent\rsystemctlæ˜¯CentOS7çš„æœåŠ¡ç®¡ç†å·¥å…·ä¸­ä¸»è¦çš„å·¥å…·ï¼Œå®ƒèåˆä¹‹å‰serviceå’Œchkconfigçš„åŠŸèƒ½äºä¸€ä½“ã€‚  å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl start firewalld.service\rå…³é—­ä¸€ä¸ªæœåŠ¡ï¼šsystemctl stop firewalld.service\ré‡å¯ä¸€ä¸ªæœåŠ¡ï¼šsystemctl restart firewalld.service\ræ˜¾ç¤ºä¸€ä¸ªæœåŠ¡çš„çŠ¶æ€ï¼šsystemctl status firewalld.service\råœ¨å¼€æœºæ—¶å¯ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl enable firewalld.service\råœ¨å¼€æœºæ—¶ç¦ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl disable firewalld.service\ræŸ¥çœ‹æœåŠ¡æ˜¯å¦å¼€æœºå¯åŠ¨ï¼šsystemctl is-enabled firewalld.service\ræŸ¥çœ‹å·²å¯åŠ¨çš„æœåŠ¡åˆ—è¡¨ï¼šsystemctl list-unit-files|grep enabled\ræŸ¥çœ‹å¯åŠ¨å¤±è´¥çš„æœåŠ¡åˆ—è¡¨ï¼šsystemctl --failed\råŸæ–‡é“¾æ¥ï¼šhttps://www.jianshu.com/p/4a9958d2e859\n","description":"","id":13,"section":"blog","tags":["Firewall","centos8"],"title":"Firewallå¸¸ç”¨è§„åˆ™è®¾ç½®ã€è½¬å‘ã€‘","uri":"http://www.shaochenfeng.com/blog/firewall%E5%B8%B8%E7%94%A8%E8%A7%84%E5%88%99%E8%AE%BE%E7%BD%AE/"},{"content":"ä»å¯é…ç½®æ€§åˆ°å®‰å…¨æ€§ï¼Œä»Webåº”ç”¨ç¨‹åºåˆ°å¤§æ•°æ®å¼€å‘ï¼Œæ— è®ºæ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦ä»€ä¹ˆæ ·çš„åŸºç¡€æ¡†æ¶ï¼Œéƒ½æœ‰ä¸€ä¸ª Springé¡¹ç›® å¯ä»¥å¸®åŠ©æ‚¨æ„å»ºå®ƒã€‚ä»å°ç€æ‰‹å¹¶æŒ‰éœ€ä½¿ç”¨ï¼Œå› ä¸ºSpringæ˜¯ä¸ºæ¨¡å—åŒ–è®¾è®¡çš„ã€‚\nâ€”â€”æ¥è‡ªå®˜ç½‘\næ–‡ç« ä¸»è¦ç¿»è¯‘è‡ªspringå®˜æ–¹çš„é¡¹ç›®ä»‹ç» https://spring.io/projects\nå…¶ä¸­æ²¡ç¿»è¯‘çš„å°±æ˜¯æˆ‘ä¸çŸ¥é“æ€ä¹ˆç¿»è¯‘æ¯”è¾ƒå¥½ï¼Œçœ‹è‹±æ–‡å§\nç§¯æå¼€å‘çš„é¡¹ç›® Spring Boot ä»¥æœ€é€šç”¨çš„é…ç½®ï¼Œä»¥æœ€å¿«çš„é€Ÿåº¦è®©åº”ç”¨å°½å¿«å¯ä»¥è¿è¡Œ\nSpring Framework ä¸ºä¾èµ–æ³¨å…¥ã€äº‹åŠ¡ç®¡ç†ã€webåº”ç”¨ã€æ•°æ®è®¿é—®ã€æ¶ˆæ¯ä¼ é€’ç­‰åŠŸèƒ½æä¾›æ ¸å¿ƒæ”¯æŒ\nSpring Data æä¾›ä¸€è‡´çš„æ¥å£å»è®¿é—®æ•°æ®åº“â€”â€”å…³ç³»å‹ã€éå…³ç³»å‹ã€map-reduceç­‰\nSpring Cloud æä¾›ä¸€ç»„ç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å¸¸ç”¨å·¥å…·ï¼Œå¯¹äºæ„å»ºå’Œéƒ¨ç½²å¾®æœåŠ¡å¾ˆæœ‰ç”¨\nSpring Cloud Data Flow An orchestration service for composable data microservice applications on modern runtimes.\nSpring Security é€šè¿‡å…¨é¢ä¸”å¯æ‰©å±•çš„èº«ä»½éªŒè¯å’Œæˆæƒæ”¯æŒä¿æŠ¤æ‚¨çš„åº”ç”¨ç¨‹åº\nSpring Session æä¾›äº†ç”¨äºç®¡ç†ç”¨æˆ·ä¼šè¯ä¿¡æ¯çš„APIå’Œå®ç°ã€‚\nSpring Integration é€šè¿‡è½»é‡çº§æ¶ˆæ¯ä¼ é€’å’Œå£°æ˜æ€§é€‚é…å™¨æ”¯æŒäº†è‘—åçš„ä¼ä¸šé›†æˆæ¨¡å¼\nSpring HATEOAS è½»æ¾åˆ›å»ºéµå¾ªHATEOASè§„åˆ™çš„REST\nSpring REST Docs å°†æ‰‹å†™æ–‡æ¡£ä¸Spring MVC Testã€REST Assuredç”Ÿæˆçš„è‡ªåŠ¨æ–‡æ¡£ç»“åˆèµ·æ¥ï¼Œç”ŸæˆRESTfulæœåŠ¡æ–‡æ¡£ã€‚\nSpring Batch ç®€åŒ–å’Œä¼˜åŒ–å¤„ç†æ‰¹é‡ç”Ÿäº§çš„å·¥ä½œã€‚\nSpring AMQP å°†Springæ ¸å¿ƒç†å¿µåº”ç”¨äºåŸºäºAMQPçš„æ¶ˆæ¯ä¼ é€’åº”ç”¨çš„å¼€å‘ä¸­\nSpring for Android æä¾›ç”¨äºå¼€å‘Androidåº”ç”¨ç¨‹åºçš„å…³é”®Springç»„ä»¶\nSpring Cloud Skipper ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œå¯åœ¨å¤šä¸ªäº‘å¹³å°ä¸Šå®‰è£…ï¼Œå‡çº§å’Œå›æ»šSpring Bootåº”ç”¨ç¨‹åº\nSpring CredHub ä¸ºSpringåº”ç”¨ç¨‹åºæä¾›äº†CredHubä¸Šå®‰å…¨å­˜å‚¨ï¼Œç”Ÿæˆï¼Œæ£€ç´¢å’Œåˆ é™¤å„ç§ç±»å‹å‡­æ®çš„API\nSpring Flo ä¸€ä¸ªJavaScriptåº“ï¼Œ\nA JavaScript library that offers a basic embeddable HTML5 visual builder for pipelines and simple graphs.\nSpring for Apache Kafka Provides Familiar Spring Abstractions for Apache Kafka.\nSpring LDAP ä½¿ç”¨SpringåŸºäºæ¨¡æ¿çš„æ–¹æ³•ç®€åŒ–ä½¿ç”¨LDAPçš„åº”ç”¨ç¨‹åºå¼€å‘ã€‚\nSpring Mobile é€šè¿‡è®¾å¤‡æ£€æµ‹å’Œæ¸è¿›å¼æ¸²æŸ“ç®€åŒ–ç§»åŠ¨Webåº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚\nSpring Roo ä½¿æ‚¨å¯ä»¥åœ¨å‡ åˆ†é’Ÿå†…å¿«é€Ÿè½»æ¾åœ°æ„å»ºå®Œæ•´çš„Javaåº”ç”¨ç¨‹åº\nSpring Shell é€šè¿‡CLIäº¤äº’ï¼Œä½¿ç¼–å†™å’Œæµ‹è¯•RESTfulåº”ç”¨ç¨‹åºæ›´åŠ å®¹æ˜“ã€‚\nSpring Statemachine åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜å¯ä»¥åœ¨Springåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çŠ¶æ€æœºæ¦‚å¿µçš„æ¡†æ¶\nSpring Vault Provides familiar Spring abstractions for HashiCorp Vault\nSpring Web Flow ç”¨äºæ„å»ºæœ‰å¯æ§å¯¼èˆªåŠŸèƒ½çš„webåº”ç”¨ç¨‹åºï¼Œå¦‚åŠç†ç™»æœºæ‰‹ç»­ã€ç”³è¯·è´·æ¬¾ç­‰\nSpring Web Services ç”¨äºåˆ›å»ºæ–‡æ¡£é©±åŠ¨çš„SOAPæœåŠ¡\næŸä¹‹é«˜é˜çš„é¡¹ç›® ä¸‹é¢æ˜¯å·²ç»æ¨å‡ºä½†ä¸å†è¢«å®˜æ–¹ç»´æŠ¤çš„é¡¹ç›®ï¼Œå°±ä¸ç¿»è¯‘äº†\nSpring IO Platform Provides a cohesive, versioned platform for building modern applications. It is a modular, enterprise-grade distribution that delivers a curated set of dependencies.\nSpring Flex A project to make it easier to build Spring-powered Rich Internet Applications using Adobe Flex as the front-end client.\nSpring Integration Groovy DSL A Groovy based DSL for developing Spring Integration applications.\nSpring Integration Scala DSL A Scala based DSL for developing Spring Integration applications.\nSpring Scala A community run project that provides support for Spring framework development in Scala\nSpring Social Easily connects your applications with third-party APIs such as Facebook, Twitter, LinkedIn, and more.\nSpring XD Simplifies the development of big data applications by addressing ingestion, analytics, batch jobs and data export.\n","description":"","id":14,"section":"blog","tags":["java","webå¼€å‘"],"title":"2020å¹´Springæ‰€æœ‰å®˜æ–¹é¡¹ç›®ä»‹ç»","uri":"http://www.shaochenfeng.com/blog/2020%E5%B9%B4spring%E6%89%80%E6%9C%89%E5%AE%98%E6%96%B9%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D/"},{"content":"nginx Rtmp Module æ˜¯ä¸€ä¸ªnginxæ’ä»¶ï¼Œéœ€è¦åœ¨åœ¨ç¼–è¯‘æ—¶å’Œnginxä¸€èµ·ç¼–è¯‘å®‰è£…ï¼Œå°±å¯ä»¥åˆ©ç”¨nginxçš„è½¬å‘èƒ½åŠ›è¿›è¡Œç›´æ’­äº†\nä¸‹è½½æºç  é¦–å…ˆå‡†å¤‡å¥½æºç å’Œå¸¸ç”¨ç¼–è¯‘å·¥å…·ï¼ˆgccä¹‹ç±»çš„ï¼‰\n1 2 3 4 5 6 7 8 9 10 11  mkdir /opt/git # è¿™é‡Œæˆ‘å·æ‡’ç›´æ¥æŠŠæºç ä¸‹è½½åˆ°è¿™äº†ï¼Œå¤§å®¶è‡ªè¡Œæ‰¾åœ°æ–¹ cd /opt/git git clone https://github.com/arut/nginx-rtmp-module.git # ä¸‹è½½ nginx-rtmp-module wget http://nginx.org/download/nginx-1.17.7.tar.gz # ä¸‹è½½nginxï¼Œè¿™é‡Œç”¨çš„æœ€æ–°æµ‹è¯•ç‰ˆï¼Œæ¨èå¤§å®¶ç”¨ç¨³å®šç‰ˆ tar -zxvf nginx-1.17.7.tar.gz cd nginx-1.17.7/ ./configure --prefix=/opt/nginx1.17 --add-module=/opt/git/nginx-rtmp-module # è¿™é‡Œæ˜¯é‡ç‚¹ï¼Œæ·»åŠ äº†ä¸€ä¸ªmod make \u0026amp;\u0026amp; make install # ç¼–è¯‘å®‰è£… cd /opt/nginx1.17/ vim /opt/nginx1.17/conf/nginx.conf # å¼€å§‹é…ç½® # å…¨éƒ¨æ³¨é‡Šæˆ–åˆ é™¤ /opt/nginx1.17/conf/nginx.conf ä¸­çš„é…ç½®   # åœ¨é…ç½®çš„æœ€é«˜å±‚ï¼Œå¯ä»¥æ˜¯å¼€å¤´æˆ–ç»“å°¾ï¼Œæ·»åŠ ä¸‹é¢çš„åŒ…å«\rinclude rtmp.conf\rç¼–è¾‘rtmpé…ç½®æ–‡ä»¶ 1  vim /opt/nginx1.17/conf/rtmp.conf   æ·»åŠ å¦‚ä¸‹é…ç½®\nrtmp {\rserver {\rlisten 8883; # æˆ‘ä½¿ç”¨çš„è‡ªå®šä¹‰ç«¯å£ï¼Œè€Œä¸æ˜¯æ ‡å‡†çš„1935\rapplication vod {\rplay /opt/nginx1.17/video;\r}\rapplication live{ #ç¬¬ä¸€å¤„æ·»åŠ çš„ç›´æ’­å­—æ®µï¼Œæ·»åŠ äº†ä¸€ä¸ªliveåº”ç”¨ï¼Œé‡Œé¢å¯ä»¥æœ‰å¾ˆå¤šç›´æ’­é—´\rlive on;\r}\r}\r}\rhttp {\r#include mime.types;\r#default_type application/octet-stream;\r#sendfile on;\r#keepalive_timeout 65;\rserver {\rlisten 8884; #ç”¨äºæŸ¥çœ‹ç›´æ’­çŠ¶æ€å’Œè§‚çœ‹ç›´æ’­çš„webé¡µé¢\rserver_name localhost;\rlocation /stat { # çŠ¶æ€æŸ¥çœ‹é¡µé¢å®ä¾‹\rrtmp_stat all;\rrtmp_stat_stylesheet stat.xsl;\r}\rlocation /stat.xsl {\rroot /opt/git/nginx-rtmp-module/;\r}\rlocation /control {\rrtmp_control all;\r}\rlocation /rtmp-publisher {\rroot /opt/git/nginx-rtmp-module/test;\r}\rlocation / { # ç›´æ’­è§‚çœ‹é¡µé¢å®ä¾‹\rroot /opt/git/nginx-rtmp-module/test/www;\r}\rerror_page 500 502 503 504 /50x.html;\rlocation = /50x.html {\rroot html;\r}\r}\r}\rå¼€å¯é˜²ç«å¢™ 1 2 3 4  firewall-cmd --add-port=8883/tcp firewall-cmd --add-port=8883/udp firewall-cmd --add-port=8884/tcp firewall-cmd --add-port=8884/udp   è‡³æ­¤æœåŠ¡å™¨æ­å»ºå®Œæˆ\nä½¿ç”¨ obsæ¨æµåˆ°\nrtmp://ã€ipåœ°å€ã€‘:8883/live\nåœ¨ç½‘é¡µä¸ŠæŸ¥çœ‹æ¨æµæƒ…å†µ\nhttp://ã€ipåœ°å€ã€‘:8884/stat\nç‚¹æ’­è§†é¢‘æ”¾åœ¨æœåŠ¡å™¨çš„\n/opt/nginx1.17/video ä¸­\nvncæŸ¥çœ‹æµï¼Œæ‰“å¼€ç½‘ç»œURL\nrtmp://ã€ipåœ°å€ã€‘:8883/live\nç½‘é¡µæŸ¥çœ‹æ¨æµå’Œç‚¹æ’­è§†é¢‘ï¼Œä½†æ˜¯ä¸ä¼šç”¨\nhttp://ã€ipåœ°å€ã€‘:8884\n","description":"","id":15,"section":"blog","tags":["nginx","ç›´æ’­"],"title":"åˆæ¢ç”¨nginx Rtmp Moduleè‡ªå»ºç›´æ’­æœåŠ¡å™¨","uri":"http://www.shaochenfeng.com/blog/%E5%88%9D%E6%8E%A2%E7%94%A8nginx-rtmp-module%E8%87%AA%E5%BB%BA%E7%9B%B4%E6%92%AD%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"content":"å‰è¨€ æ‰‹å¤´ä¸Šçš„æœåŠ¡å™¨ç¨‹åº1.0ç‰ˆæœ¬ç»ˆäºè¦è¿›å…¥çº¿ä¸Šæµ‹è¯•é˜¶æ®µäº†ğŸ˜®ã€‚å…´è‡´å†²å†²çš„åˆ†äº†ä¸€å°å…¬å¸çš„ç³»ç»Ÿä¸ºCentOS7.+çš„æœåŠ¡å™¨ã€‚1ã€éƒ¨ç½²ä¸Šç¯å¢ƒã€‚2ã€æ‰“å¼€ç»ˆç«¯å¼€å§‹è·‘ç¨‹åº \u0026ldquo;nohup dotnet XXX.dll \u0026amp;\u0026quot;ã€‚3ã€å…³é—­ç»ˆç«¯ã€‚ã€‚ã€‚4ã€å§æ§½ğŸ˜®,æˆ‘çš„åå°è¿è¡Œçš„ç¨‹åºå‘¢!?\næœ¬äººLinuxå°ç™½,åˆå°è¯•äº†å‡ ç§åå°è¿è¡Œç¨‹åºçš„æ–¹æ¡ˆï¼Œå…¨éƒ¨ä»¥å¤±è´¥å‘Šç»ˆğŸ˜­ğŸ˜­ğŸ˜­ã€‚\nç„¶ååœ¨æœç´¢è§£å†³æ–¹æ¡ˆçš„è¿‡ç¨‹ä¸­å‘ç°äº†å¾ˆå¤šå®ˆæŠ¤è¿›ç¨‹å·¥å…·çš„ä¸œè¥¿,æœ€ç»ˆæ‰¾åˆ°äº†ä¸€ä¸ªæœ€ç®€å•çš„å·¥å…·å¹¶å­¦ä¹ ä½¿ç”¨äº†å®ƒ, Supervisor ã€‚\nè¿›ç¨‹ç®¡ç†å·¥å…·(Supervisor) ç®€ä»‹ Supervisoræ˜¯ç”¨Pythonå¼€å‘çš„ä¸€ä¸ªclient/serveræœåŠ¡ï¼Œæ˜¯Linux/Unixç³»ç»Ÿä¸‹çš„ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œä¸æ”¯æŒWindowsç³»ç»Ÿã€‚å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç›‘å¬ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ã€‚ç”¨Supervisorç®¡ç†çš„è¿›ç¨‹ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹æ„å¤–è¢«æ€æ­»ï¼Œsupervisortç›‘å¬åˆ°è¿›ç¨‹æ­»åï¼Œä¼šè‡ªåŠ¨å°†å®ƒé‡æ–°æ‹‰èµ·ï¼Œå¾ˆæ–¹ä¾¿çš„åšåˆ°è¿›ç¨‹è‡ªåŠ¨æ¢å¤çš„åŠŸèƒ½ï¼Œä¸å†éœ€è¦è‡ªå·±å†™shellè„šæœ¬æ¥æ§åˆ¶ã€‚\nä¸ä½¿ç”¨å®ˆæŠ¤è¿›ç¨‹ä¼šå‡ºç°çš„ä¸‰ä¸ªé—®é¢˜ï¼š\n ASP.NET Coreåº”ç”¨ç¨‹åºè¿è¡Œåœ¨shellä¹‹ä¸­ï¼Œå¦‚æœå…³é—­shellåˆ™ä¼šå‘ç° ASP.NET Coreç¨‹åºè¢«å…³é—­ï¼Œä»è€Œå¯¼è‡´åº”ç”¨æ— æ³•è®¿é—®ï¼Œè¿™ç§æƒ…å†µå½“ç„¶æ˜¯æˆ‘ä»¬ä¸æƒ³é‡åˆ°çš„ï¼Œè€Œä¸”ç”Ÿäº§ç¯å¢ƒå¯¹è¿™ç§æƒ…å†µæ˜¯é›¶å®¹å¿çš„ã€‚ å¦‚æœ ASP.NET Coreè¿›ç¨‹æ„å¤–ç»ˆæ­¢é‚£ä¹ˆéœ€è¦äººä¸ºè¿è¿›shellè¿›è¡Œå†æ¬¡å¯åŠ¨ï¼Œå¾€å¾€è¿™ç§æ“ä½œéƒ½ä¸å¤ŸåŠæ—¶ã€‚ å¦‚æœæœåŠ¡å™¨å®•æœºæˆ–éœ€è¦é‡å¯ï¼Œæˆ‘ä»¬åˆ™è¿˜æ˜¯éœ€è¦è¿å…¥shellè¿›è¡Œå¯åŠ¨ã€‚  ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªç¨‹åºæ¥ç›‘å¬ ASP.NET Core åº”ç”¨ç¨‹åºçš„çŠ¶å†µã€‚å¹¶åœ¨åº”ç”¨ç¨‹åºåœæ­¢è¿è¡Œçš„æ—¶å€™ç«‹å³é‡æ–°å¯åŠ¨ã€‚\nSupervisorå®‰è£…ä¸é…ç½® 1ã€å®‰è£…PythonåŒ…ç®¡ç†å·¥å…·(easy_install)\nyum install python-setuptools\n2ã€å®‰è£…Supervisor\neasy_install supervisor\n3ã€é…ç½®Supervisoråº”ç”¨å®ˆæŠ¤\na) é€šè¿‡è¿è¡Œecho_supervisord_confç¨‹åºç”Ÿæˆsupervisorçš„åˆå§‹åŒ–é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nmkdir /etc/supervisor\necho_supervisord_conf \u0026gt; /etc/supervisor/supervisord.conf\nç„¶åæŸ¥çœ‹è·¯å¾„ä¸‹çš„supervisord.confã€‚åœ¨æ–‡ä»¶å°¾éƒ¨æ·»åŠ å¦‚ä¸‹é…ç½®ã€‚\n;conf.d ä¸ºé…ç½®è¡¨ç›®å½•çš„æ–‡ä»¶å¤¹ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»º\r[include]\rfiles = conf.d/*.conf\rb) ä¸ºä½ çš„ç¨‹åºåˆ›å»ºä¸€ä¸ª.confæ–‡ä»¶ï¼Œæ”¾åœ¨ç›®å½•\u0026rdquo;/etc/supervisor/conf.d/\u0026ldquo;ä¸‹ã€‚\n1 2 3 4 5 6 7 8 9  [program:MGToastServer] ;ç¨‹åºåç§°ï¼Œç»ˆç«¯æ§åˆ¶æ—¶éœ€è¦çš„æ ‡è¯† command=dotnet MGToastServer.dll ; è¿è¡Œç¨‹åºçš„å‘½ä»¤ directory=/root/æ–‡æ¡£/toastServer/ ; å‘½ä»¤æ‰§è¡Œçš„ç›®å½• autorestart=true ; ç¨‹åºæ„å¤–é€€å‡ºæ˜¯å¦è‡ªåŠ¨é‡å¯ stderr_logfile=/var/log/MGToastServer.err.log ; é”™è¯¯æ—¥å¿—æ–‡ä»¶ stdout_logfile=/var/log/MGToastServer.out.log ; è¾“å‡ºæ—¥å¿—æ–‡ä»¶ environment=ASPNETCORE_ENVIRONMENT=Production ; è¿›ç¨‹ç¯å¢ƒå˜é‡ user=root ; è¿›ç¨‹æ‰§è¡Œçš„ç”¨æˆ·èº«ä»½ stopsignal=INT   c) è¿è¡Œsupervisordï¼ŒæŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ\nsupervisord -c /etc/supervisor/supervisord.conf\rps -ef | grep MGToastServer\r ps: å¦‚æœæœåŠ¡å·²å¯åŠ¨ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å¯ç”¨â€œsupervisorctl reloadâ€å‘½ä»¤æ¥ä½¿å…¶ç”Ÿæ•ˆ\n 4ã€é…ç½®Supervisorå¼€æœºå¯åŠ¨ a) æ–°å»ºä¸€ä¸ªâ€œsupervisord.serviceâ€æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  # dservice for systemd (CentOS 7.0+) # by ET-CS (https://github.com/ET-CS) [Unit] Description=Supervisor daemon [Service] Type=forking ExecStart=/usr/bin/supervisord -c /etc/supervisor/supervisord.conf ExecStop=/usr/bin/supervisorctl shutdown ExecReload=/usr/bin/supervisorctl reload KillMode=process Restart=on-failure RestartSec=42s [Install] WantedBy=multi-user.target   b) å°†æ–‡ä»¶æ‹·è´è‡³\u0026rdquo;/usr/lib/systemd/system/supervisord.service\u0026quot;\nc) æ‰§è¡Œå‘½ä»¤\n1  systemctl enable supervisord   d) æ‰§è¡Œå‘½ä»¤æ¥éªŒè¯æ˜¯å¦ä¸ºå¼€æœºå¯åŠ¨\n1  systemctl is-enabled supervisord   é…ç½®å®Œæˆå•¦.\nå¸¸ç”¨çš„ç›¸å…³ç®¡ç†å‘½ä»¤\n1 2 3 4 5 6  supervisorctl restart \u0026lt;application name\u0026gt; ;é‡å¯æŒ‡å®šåº”ç”¨ supervisorctl stop \u0026lt;application name\u0026gt; ;åœæ­¢æŒ‡å®šåº”ç”¨ supervisorctl start \u0026lt;application name\u0026gt; ;å¯åŠ¨æŒ‡å®šåº”ç”¨ supervisorctl restart all ;é‡å¯æ‰€æœ‰åº”ç”¨ supervisorctl stop all ;åœæ­¢æ‰€æœ‰åº”ç”¨ supervisorctl start all ;å¯åŠ¨æ‰€æœ‰åº”ç”¨   æ¥æºï¼šhttps://www.jianshu.com/p/39b476e808d8\n","description":"","id":16,"section":"blog","tags":["è½¬è½½","Supervisor"],"title":"Supervisor-å®ˆæŠ¤è¿›ç¨‹å·¥å…·ã€è½¬è½½ã€‘","uri":"http://www.shaochenfeng.com/blog/supervisor-%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E5%B7%A5%E5%85%B7%E8%BD%AC%E8%BD%BD/"},{"content":"Apache httpdå’Œphpçš„ç»“åˆæ–¹å¼æœ‰ä¸¤ç§ï¼š\n DSOæ–¹å¼ï¼Œphpä½œä¸ºhttpdçš„æ¨¡å— FCGIæ–¹å¼ï¼Œä½¿ç”¨php-fpmå•ç‹¬ç®¡ç†phpè¿›ç¨‹æ±   yumæ–¹å¼å®‰è£…httpdå’Œphp centos8\n1 2  dnf install httpd dnf install php   é»˜è®¤æ˜¯php7.2ç‰ˆæœ¬\ncentos7\n1 2  yum install httpd yum install php   é»˜è®¤æ˜¯php5.4ç‰ˆæœ¬\nè¿™ä¼šè‡ªåŠ¨ä¸ºhttpdå®‰è£…phpæ’ä»¶ï¼Œå¹¶å¯ç”¨ï¼Œä½¿ç”¨OSOæ–¹å¼è¿è¡Œphpï¼Œä¹Ÿå°±æ˜¯phpä½œä¸ºhttpdçš„æ¨¡å—\né»˜è®¤ä¸ºæ¯ä¸ªç½‘ç«™éƒ½é…ç½®äº†phpçš„æ”¯æŒï¼Œç›´æ¥å°±èƒ½å¯ä»¥ä½¿ç”¨\næµ‹è¯•ä¸€ä¸‹ åˆ›å»ºæµ‹è¯•æ–‡ä»¶\n1 2  echo -e \u0026#34;\u0026lt;?php\\nphpinfo();\\n?\u0026gt;\u0026#34;\u0026gt; /var/www/html/index.php echo -e \u0026#34;\u0026lt;?php\\nphpinfo();\\n?\u0026gt;\u0026#34;\u0026gt; /usr/share/nginx/html/index.php   è¿™æ ·å°±å¯ä»¥é€šè¿‡ http://\u0026lt;ä½ çš„æœåŠ¡å™¨ip\u0026gt; è®¿é—®ä¸‹\næºç æ–¹å¼å®‰è£…php7.3 ç¯å¢ƒ centos8\n1.é¦–å…ˆå®‰è£… httpd å’Œ httpd-devel è¿™é‡Œå®‰è£…httpd-develæ˜¯ä¸ºäº†ä½¿ç”¨apxsåŠ¨æ€åŠ è½½æ’ä»¶\n1  dnf install httpd httpd-devel   2.å®‰è£…å¿…è¦çš„ä¾èµ– 1  dnf install libxml2-devel openssl-devel libcurl libcurl-devel libjpeg-turbo-devel libpng-devel freetype-devel libzip-devel gcc make   3.ä¸‹è½½phpæºç åŒ… 1  wget https://www.php.net/distributions/php-7.3.13.tar.xz   4.è§£å‹ã€ç¼–è¯‘ã€å®‰è£… 1 2 3 4  cd php-7.3.13 tar xvf php-7.3.13.tar.xz ./configure --prefix=/opt/php7.3 --with-apxs2=/usr/bin/apxs --with-config-file-path=/opt/php7.3/usr --enable-mbstring --with-openssl --enable-ftp --with-gd --with-jpeg-dir=/opt/php7.3/usr --with-png-dir=/opt/php7.3/usr --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-pear --enable-sockets --with-freetype-dir=/opt/php7.3/usr --with-zlib --with-libxml-dir=/opt/php7.3/usr --with-xmlrpc --enable-zip --enable-fpm --enable-xml --enable-sockets --with-gd --with-zlib --with-iconv --enable-zip --with-freetype-dir=/opt/php7.3/usr/lib --enable-soap --enable-pcntl --enable-cli --with-curl --enable-bcmath --with-gettext make \u0026amp;\u0026amp; make install    è¿™é‡Œä½¿ç”¨ --prefix=/opt/php7.3 å®‰è£…åœ¨ /opt/php7.3 ï¼Œå¯ä»¥è‡ªå®šä¹‰å®‰è£…ä½ç½®\n  è¿™é‡Œä½¿ç”¨ --with-apxs2=/usr/bin/apxs æŒ‡å‡ºäº†apxsçš„ä½ç½®ï¼Œå¦‚æœæ˜¯æºç å®‰è£…çš„httpdï¼Œåˆ™åœ¨å®‰è£…ç›®å½•ä¸‹çš„ ./sbin/apxs\n 5.å¤åˆ¶é…ç½®æ–‡ä»¶ cp php.ini-development /opt/php7.3/php.ini\n6.é…ç½®httpdä½¿ç”¨php cd httpd.conf\nLoadModule php7_module\tmodules/libphp7.so # æœ‰å¯èƒ½å·²ç»è‡ªåŠ¨æ·»åŠ äº†\r","description":"","id":17,"section":"blog","tags":["php","httpd","centos8"],"title":"Apache httpdç»“åˆphpï¼Œyumæ–¹å¼å’Œæºç æ–¹å¼","uri":"http://www.shaochenfeng.com/blog/apache_httpd%E5%92%8Cphp/"},{"content":"1.å®‰è£…jdk tomcat9å¯ä»¥å·¥ä½œåœ¨jdk8åŠä¹‹åçš„ç‰ˆæœ¬\næ‰€ä»¥å¯ä»¥å®‰è£…jdk8æˆ–æ˜¯jdk11\ndnf install java-11-openjdk # centos8\ryum install java-11-openjdk # centos7\r2.ä¸‹è½½æœ€æ–°çš„tomcatäºŒè¿›åˆ¶åŒ… æ‰“å¼€ç½‘ç«™ https://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-9/\nåœ¨è¿™é‡Œæ‰¾åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œè¿›å…¥åè¿›å…¥binç›®å½•\né‡Œé¢æœ‰åä¸º apache-tomcat-XXXX.tar.gz çš„æ–‡ä»¶ï¼Œå³é”®å¤åˆ¶åœ°å€\nä¸‹è½½å¹¶è§£å‹\nwget https://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-9/v9.0.31/bin/apache-tomcat-9.0.31.tar.gz\rtar xvf apache-tomcat-9.0.31.tar.gz\rç§»åŠ¨åˆ°å®‰è£…ç›®å½•\nmv apache-tomcat-9.0.31 /opt/tomcat9\r3.å¸¸è§å‘½ä»¤å’Œç›®å½•    å‘½ä»¤æˆ–ç›®å½• ä½œç”¨     /opt/tomcat9/bin/startup.sh å¯åŠ¨tomcat   /opt/tomcat9/bin/shutdown.sh å…³é—­tomcat   /opt/tomcat9/conf/ é…ç½®   /opt/tomcat9/logs/ æ—¥å¿—   /opt/tomcat9/webapps/ é»˜è®¤åº”ç”¨ç›®å½•    4.å¦‚ä½•é€‰æ‹©tomcatç‰ˆæœ¬ ä¸‹é¢è¡¨æ ¼æ¥è‡ªtomcatå®˜ç½‘\n   Servlet è§„èŒƒ JSP è§„èŒƒ EL è§„èŒƒ WebSocket è§„èŒƒ JASPIC è§„èŒƒ Apache Tomcat ç‰ˆæœ¬ æœ€æ–°ç‰ˆæœ¬ï¼ˆ2020.2.19ï¼‰ æ”¯æŒçš„ Java ç‰ˆæœ¬     4.0 2.3 3.0 1.1 1.1 9.0.x 9.0.31 8 and later   3.1 2.3 3.0 1.1 1.1 8.5.x 8.5.51 7 and later   3.1 2.3 3.0 1.1 N/A 8.0.x (superseded) 8.0.53 (superseded) 7 and later   3.0 2.2 2.2 1.1 N/A 7.0.x 7.0.100 6 and later (7 and later for WebSocket)   2.5 2.1 2.1 N/A N/A 6.0.x (archived) 6.0.53 (archived) 5 and later   2.4 2.0 N/A N/A N/A 5.5.x (archived) 5.5.36 (archived) 1.4 and later   2.3 1.2 N/A N/A N/A 4.1.x (archived) 4.1.40 (archived) 1.3 and later   2.2 1.1 N/A N/A N/A 3.3.x (archived) 3.3.2 (archived) 1.1 and later    ","description":"","id":18,"section":"blog","tags":["java","tomcat"],"title":"Centos8(7)å®‰è£…tomcat9å’Œå¸¸è§ç”¨æ³•","uri":"http://www.shaochenfeng.com/blog/centos87%E5%AE%89%E8%A3%85tomcat9%E5%92%8C%E5%B8%B8%E8%A7%81%E7%94%A8%E6%B3%95/"},{"content":"httpd(apache)ä»¥å…¶åŠŸèƒ½ä¸°å¯Œï¼Œå®‰å…¨ç¨³å®šï¼Œå¹¿ä¸ºä½¿ç”¨\nå®‰è£…httpd å¯¹äºCentOS8:\ndnf -y install httpd\rå¯¹äºCentOS7:\nyum -y install httpd\rå¦‚æœå‡ºé”™æ£€æŸ¥æ£€æŸ¥ä¸€ä¸‹ç½‘ç»œå’Œyumæºï¼Œå¦‚ä½•æ›´æ¢yumæºåˆ°é˜¿é‡Œæº\nä¸‹é¢è®¾ç½®ä¸¤ä¸ªè™šæ‹Ÿä¸»æœº è™šæ‹Ÿä¸»æœºå¯ä»¥è®©ä¸€ä¸ªwebæœåŠ¡å™¨æœåŠ¡å¤šä¸ªç½‘ç«™ï¼Œæ¯ä¸ªç½‘ç«™å¯ä»¥æœ‰ä¸åŒçš„è®¾ç½®ï¼Œä¸åŒçš„è¯­è¨€ï¼Œå¹¶ä¸”æœ‰ç‹¬ç«‹çš„æ—¥å¿—\nè¿™é‡Œå‡è®¾ä¸¤ä¸ªä¸»æœºåˆ†åˆ«ä¸º\n game.shaochenfeng.com map.shaochenfeng.com  æ–°å»ºé…ç½®æ–‡ä»¶ æ³¨æ„è¦ä»¥confä¸ºæ‰©å±•å\n1  vim /etc/httpd/conf.d/virtual.conf   å†…å®¹ä¸º\n\u0026lt;VirtualHost *:80\u0026gt;\rServerName game.shaochenfeng.com\rDocumentRoot /var/www/game.shaochenfeng.com\rDirectoryIndex index.html\rErrorLog logs/game.shaochenfeng.com.error.log\rTransferLog logs/game.shaochenfeng.com.log\r\u0026lt;/VirtualHost\u0026gt;\r\u0026lt;Directory \u0026quot;/var/www/game.shaochenfeng.com\u0026quot;\u0026gt;\rRequire all granted\r\u0026lt;/Directory\u0026gt;\r\u0026lt;VirtualHost *:80\u0026gt;\rServerName map.shaochenfeng.com\rDocumentRoot /var/www/map.shaochenfeng.com\rDirectoryIndex index.html\rErrorLog logs/map.shaochenfeng.com.error.log\rTransferLog logs/map.shaochenfeng.com.log\r\u0026lt;/VirtualHost\u0026gt;\r\u0026lt;Directory \u0026quot;/var/www/map.shaochenfeng.com\u0026quot;\u0026gt;\rRequire all granted\r\u0026lt;/Directory\u0026gt;\rå…¶ä¸­ç¬¬ä¸€è¡Œä¸­çš„ \u0026lt;VirtualHost *:80\u0026gt; æŒ‡å®šäº†ç›‘å¬çš„ç«¯å£å’Œä¸»æœºèŒƒå›´\n ServerName ç›‘å¬çš„åŸŸå DocumentRoot ç½‘ç«™æ ¹ç›®å½• DirectoryIndex ç½‘ç«™é»˜è®¤æ–‡æ¡£ ErrorLog é”™è¯¯æ—¥å¿— TransferLog è®¿é—®æ—¥å¿—  åé¢ä¸€éƒ¨åˆ† \u0026lt;Directory \u0026quot;/var/www/game.shaochenfeng.com\u0026quot;\u0026gt; å¯¹ç½‘ç«™ç›®å½•è¿›è¡Œè®¾ç½®\nä¿å­˜å¹¶é€€å‡º\nåˆ›å»ºè™šæ‹Ÿä¸»æœºçš„ä¸»ç›®å½•å’Œæ—¥å¿—ç›®å½• 1 2 3 4 5  mkdir /var/www/game.shaochenfeng.com mkdir /var/www/map.shaochenfeng.com #å°†ä½ çš„ç½‘ç«™æ–‡ä»¶å¤åˆ¶åˆ°ä¸Šé¢å¯¹åº”çš„ç›®å½• chown apache:apache -R /var/www/game.shaochenfeng.com # httpdè¿è¡Œåœ¨apacheç”¨æˆ·ä¸‹ï¼Œæ‰€ä»¥è¦ç»™ç½‘ç«™æ–‡ä»¶æˆäºˆæƒé™ chown apache:apache -R /var/www/map.shaochenfeng.com   å¯åŠ¨å¹¶å¼€æœºå¯åŠ¨httpd 1 2 3  systemctl enable httpd # è®¾ç½®httpdå¼€æœºå¯åŠ¨ systemctl start httpd # å¯åŠ¨httpd systemctl status httpd # æŸ¥çœ‹httpdçŠ¶æ€   ","description":"","id":19,"section":"blog","tags":["apache","httpd","yum","centos"],"title":"Yumå®‰è£…httpd(apache)å¹¶è®¾ç½®è™šæ‹Ÿä¸»æœº","uri":"http://www.shaochenfeng.com/blog/yum%E5%AE%89%E8%A3%85httpdapache%E5%B9%B6%E8%AE%BE%E7%BD%AE%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA/"},{"content":"é¦–å…ˆæ˜¯å…¨éƒ¨æ­¥éª¤æ¦‚æ‹¬ 1 2 3 4 5 6 7 8 9 10 11 12 13 14  yum install -y libaio ncurses gcc gcc-c++ cmake ncurses-devel wget yum install -y pcre-devel zlib-devel wget http://nginx.org/download/nginx-1.16.1.tar.gz # ä¸‹è½½æºç åŒ… tar -zxvf nginx-1.16.1.tar.gz cd nginx-1.16.1 ./configure --prefix=/opt/nginx1.16 # è¿™é‡ŒæŒ‡å®šå®‰è£…ç›®å½• make \u0026amp;\u0026amp; make install useradd www -s /bin/false vi /opt/nginx1.16/conf/nginx.conf # ä¿®æ”¹é…ç½®æ–‡ä»¶ # ç¬¬ä¸€è¡Œå»æ‰å‰é¢äº•å·å¹¶æ”¹ä¸º user www; /opt/nginx1.16/sbin/nginx #å¯åŠ¨nginx #ä»¥ä¸‹ä¸ºå¯é€‰ /opt/nginx1.16/sbin/nginx -s stop #åœæ­¢ /opt/nginx1.16/sbin/nginx -s reload #é‡æ–°è½½å…¥é…ç½®   1.å®‰è£…ç¼–è¯‘å™¨å’Œä¾èµ– 1 2  yum install libaio ncurses gcc gcc-c++ cmake ncurses-devel wget yum install pcre-devel zlib-devel   è¿™äº›ä¾èµ–æ˜¯ç¼–è¯‘nginxéœ€è¦çš„ï¼Œå¦åˆ™æ— æ³•å®Œæˆç¼–è¯‘\n2.ä¸‹è½½æºç åŒ…å¹¶è§£å‹ 1 2 3  wget http://nginx.org/download/nginx-1.16.1.tar.gz # ä¸‹è½½æºç åŒ… tar -zxvf nginx-1.16.1.tar.gz cd nginx-1.16.1   3.ç¼–è¯‘å®‰è£… 1 2  ./configure --prefix=/opt/nginx1.16 # è¿™é‡ŒæŒ‡å®šå®‰è£…ç›®å½• make \u0026amp;\u0026amp; make install   åœ¨ç¼–è¯‘ä¹‹å‰å¯ä»¥åˆ¶å®šå®‰è£…ç›®å½•ï¼Œè¿™æ ·æ‰€æœ‰çš„æ•°æ®ã€é…ç½®ã€ç¨‹åºéƒ½ä¼šæ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹\nä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼Œå¦‚ä¸‹æ‰€ç¤º\n1 2  ./configure make \u0026amp;\u0026amp; make install   è¿™æ ·ä¼šå®‰è£…åˆ°é»˜è®¤ä½ç½®\n4.æ·»åŠ nginxä½¿ç”¨çš„ç”¨æˆ· 1 2 3  useradd www -s /bin/false vi /opt/nginx1.16/conf/nginx.conf # ä¿®æ”¹é…ç½®æ–‡ä»¶ # ç¬¬ä¸€è¡Œå»æ‰å‰é¢äº•å·å¹¶æ”¹ä¸º user www;   nginxé»˜è®¤ä¸ä½¿ç”¨rootç”¨æˆ·è¿è¡Œç½‘ç«™çš„è„šæœ¬ï¼Œè€Œæ˜¯ä½¿ç”¨nobodyï¼Œå› ä¸ºä¸€æ—¦æ‰§è¡Œæ¶æ„è„šæœ¬ï¼Œåæœå¾ˆä¸¥é‡\nä½†æ˜¯nobidyçš„æƒé™å¾ˆå°ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæ–°å»ºä¸€ä¸ªnginxç”¨æˆ·æˆ–æ˜¯wwwç”¨æˆ·ï¼Œå½“ä½œnginxä½¿ç”¨çš„ç”¨æˆ·\n5.å¯åŠ¨å’Œé‡å¯ 1 2 3  /opt/nginx1.16/sbin/nginx #å¯åŠ¨nginx /opt/nginx1.16/sbin/nginx -s stop #åœæ­¢ /opt/nginx1.16/sbin/nginx -s reload #é‡æ–°è½½å…¥é…ç½®   ","description":"","id":20,"section":"blog","tags":["nginx"],"title":"æºç å®‰è£…nginxåˆ°æŒ‡å®šç›®å½•","uri":"http://www.shaochenfeng.com/blog/%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85nginx%E5%88%B0%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95/"},{"content":"httpsæ˜¯åŠ å¯†çš„httpåè®®ï¼Œç°åœ¨ä»¥è°·æ­Œæµè§ˆå™¨ä¸ºé¦–çš„å¾ˆå¤šæµè§ˆå™¨å¼€å§‹å°†ä»…æ”¯æŒhttpçš„ç½‘ç«™æ ‡è¯†ä¸ºä¸å®‰å…¨\næ‰€ä»¥å…¨ç«™httpså°±æˆä¸ºäº†ç°ä»£ç½‘ç«™çš„æ ‡é…ï¼Œæœ¬æ–‡ä»‹ç»ngnixå¦‚ä½•é…ç½®sslè¯ä¹¦ï¼Œä»¥æ”¯æŒhttps\né¦–å…ˆåœ¨å‡†å¤‡ç”³è¯·æ¥çš„è¯ä¹¦æ–‡ä»¶å¦‚ä½•ç”³è¯·?\nè¿™é‡Œå‡è®¾sslè¯ä¹¦æ”¾åœ¨\n /usr/share/nginx/ssl/www.shaochenfeng.com.cer; /usr/share/nginx/ssl/www.shaochenfeng.com.key;  ç¼–è¾‘nginxé…ç½®æ–‡ä»¶\n1  vim /etc/nginx/nginx.conf   æ‰¾åˆ°ä¸‹é¢è¢«æ³¨é‡Šçš„sslé…ç½®ï¼Œå…¨éƒ¨å–æ¶ˆæ³¨é‡Š\nå¼€å§‹å¯èƒ½æ˜¯è¿™æ ·\næ”¹æˆè¿™æ ·\nä¸»è¦å°±æ˜¯æ”¹äº†çº¢æ¡†ä¸­çš„ä¸¤ä¸ªå‚æ•°\n ssl_certificate è¯ä¹¦ ssl_certificate_key è¯ä¹¦å¯†é’¥  ç„¶åé‡å¯nginxç”Ÿæ•ˆ\nå¦‚æœä¸æƒ³åœ¨ä¸»é…ç½®ä¸­æ·»åŠ ï¼Œå¯ä»¥åœ¨è™šæ‹Ÿä¸»æœºé…ç½®ä¸­ä¸ºæ¯ä¸ªç½‘ç«™å•ç‹¬é…ç½®\nå®ä¾‹æ–‡ä»¶å¦‚ä¸‹\nserver {\rlisten 80;\rlisten 443 ssl;\rserver_name www.shaochenfeng.com;\rroot /usr/share/nginx/www.shaochenfeng.com;\rssl on;\rssl_certificate /usr/share/nginx/ssl/www.shaochenfeng.com.cer;\rssl_certificate_key /usr/share/nginx/ssl/www.shaochenfeng.com.key;\rlocation / {\r}\r}\r","description":"","id":21,"section":"blog","tags":["https","nginx"],"title":"Nginxé…ç½®sslè¯ä¹¦ï¼Œæ”¯æŒhttps","uri":"http://www.shaochenfeng.com/blog/nginx%E9%85%8D%E7%BD%AEssl%E8%AF%81%E4%B9%A6%E6%94%AF%E6%8C%81htts/"},{"content":"CentOS7é»˜è®¤å®‰è£…MariaDBï¼Œå®‰è£…mysql5.7å°±éœ€è¦æ·»åŠ mysqlå®˜æ–¹yumæº\n1. ä¸‹è½½å®˜æ–¹yumæº é¦–å…ˆéœ€è¦ä¸‹è½½å®˜æ–¹yumæº\n1  wget https://repo.mysql.com/mysql57-community-release-el7.rpm   2.å®‰è£…yumæº 1  yum -y install mysql57-community-release-el7.rpm   3.å®‰è£…mysqlæœåŠ¡å™¨ ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œç°åœ¨å¯ä»¥å®‰è£…mysqlæœåŠ¡å™¨äº†\n1  yum -y install mysql-community-server   4. å¯åŠ¨æœåŠ¡ ç°åœ¨ä½¿ç”¨ systemctl å¯åŠ¨mysqlå®ˆæŠ¤è¿›ç¨‹\n1  systemctl start mysqld   ç¬¬ä¸€æ¬¡å¯åŠ¨mysqlä¼šåˆå§‹åŒ–æ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦ç‚¹æ—¶é—´\n5. æŸ¥çœ‹rootå¯†ç  åˆå§‹åŒ–æ•°æ®åº“çš„æ—¶å€™ä¼šä¸ºrootè®¾ç½®ä¸€ä¸ªé»˜è®¤å¯†ç ï¼Œè¿™ä¸ªå¯†ç åœ¨logæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°\n1 2  less /var/log/mysqld.log # æŸ¥çœ‹æ—¥å¿—æŸ¥çœ‹å¯†ç  # ä¼šæœ‰ä¸€è¡Œ password is generated XXXXX   æˆ–è€…å¯ä»¥ä½¿ç”¨ä¸‹é¢è¯­å¥ç›´æ¥æå–å‡ºå¯†ç \n1  grep \u0026#34;password is generated\u0026#34; /var/log/mysqld.log | awk \u0026#39;{print $NF}\u0026#39;   æ‰¾åˆ°å¯†ç åå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤è¾“å…¥å¯†ç è¿›å…¥æ•°æ®åº“\n1  mysql -uroot -p   ç¬¬ä¸€æ¬¡è¿›å…¥æ•°æ®åº“åªèƒ½ä¿®æ”¹å¯†ç ï¼Œä¸èƒ½åšä»»ä½•äº‹\n1  mysql\u0026gt; ALTER USER \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;new password\u0026#39;;   è¿™é‡Œçš„æ–°å¯†ç ä¸èƒ½å¤ªç®€å•ï¼Œå› ä¸ºmysqlé»˜è®¤å¯¹å¯†ç æœ‰å¤æ‚åº¦è¦æ±‚\nå¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤å…³é—­å¤æ‚åº¦è¦æ±‚\n1 2  mysql\u0026gt; set global validate_password_policy=0; # å…³é—­å¯†ç å¤æ‚æ€§ç­–ç•¥ mysql\u0026gt; set global validate_password_length=4; # è®¾ç½®å¯†ç æœ€ä½é•¿åº¦ä¸º4   ","description":"","id":22,"section":"blog","tags":["mysql5.7","CentOS7"],"title":"yumå®‰è£…mysql5.7ï¼ŒæŸ¥çœ‹é»˜è®¤rootå¯†ç ","uri":"http://www.shaochenfeng.com/blog/yum%E5%AE%89%E8%A3%85mysql5.7%E6%9F%A5%E7%9C%8B%E9%BB%98%E8%AE%A4root%E5%AF%86%E7%A0%81/"},{"content":"1. ä¸‹è½½å®˜æ–¹yumæº CentOS8é»˜è®¤æºå®‰è£…çš„å°±æ˜¯mysql8 è·³è¿‡è¿™ä¸€æ­¥ï¼Œå»ç¬¬ä¸‰æ­¥\nCentOS7é»˜è®¤å®‰è£…MariaDBï¼Œå®‰è£…mysql8å°±éœ€è¦æ·»åŠ mysqlå®˜æ–¹yumæº\né¦–å…ˆéœ€è¦ä¸‹è½½å®˜æ–¹yumæº\n1  wget https://repo.mysql.com/mysql80-community-release-el7.rpm # ä»…CentOS7   2.å®‰è£…yumæº 1  yum -y install mysql80-community-release-el7.rpm # ä»…CentOS7   3.å®‰è£…mysqlæœåŠ¡å™¨ ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œç°åœ¨å¯ä»¥å®‰è£…mysqlæœåŠ¡å™¨äº†\nå¯¹äºCentOS8:\n1  dnf -y install mysql-server   å¯¹äºCentOS7:\n1  yum -y install mysql-community-server   4. å¯åŠ¨æœåŠ¡ ç°åœ¨ä½¿ç”¨ systemctl å¯åŠ¨mysqlå®ˆæŠ¤è¿›ç¨‹\n1  systemctl start mysqld   ç¬¬ä¸€æ¬¡å¯åŠ¨mysqlä¼šåˆå§‹åŒ–æ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦ç‚¹æ—¶é—´\nå¯¹äºCentOS8ï¼Œä»é»˜è®¤æºå®‰è£…mysql8æ²¡æœ‰å¯†ç ï¼Œå¯ä»¥ç›´æ¥mysqlè¿›å…¥ä½¿ç”¨\nå¯¹äºCentOS7,ä»å®˜æ–¹æºå®‰è£…ä¼šç”Ÿæˆé»˜è®¤å¯†ç ï¼Œå¯ä»¥é€šè¿‡åé¢çš„æ­¥éª¤æŸ¥çœ‹å¯†ç å¹¶ä¿®æ”¹\n5. æŸ¥çœ‹rootå¯†ç  åˆå§‹åŒ–æ•°æ®åº“çš„æ—¶å€™ä¼šä¸ºrootè®¾ç½®ä¸€ä¸ªé»˜è®¤å¯†ç ï¼Œè¿™ä¸ªå¯†ç åœ¨logæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°\n1 2  less /var/log/mysqld.log # æŸ¥çœ‹æ—¥å¿—æŸ¥çœ‹å¯†ç  # ä¼šæœ‰ä¸€è¡Œ password is generated XXXXX   æˆ–è€…å¯ä»¥ä½¿ç”¨ä¸‹é¢è¯­å¥ç›´æ¥æå–å‡ºå¯†ç \n1  grep \u0026#34;password is generated\u0026#34; /var/log/mysqld.log | awk \u0026#39;{print $NF}\u0026#39;   æ‰¾åˆ°å¯†ç åå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤è¾“å…¥å¯†ç è¿›å…¥æ•°æ®åº“\n1  mysql -uroot -p   ç¬¬ä¸€æ¬¡è¿›å…¥æ•°æ®åº“åªèƒ½ä¿®æ”¹å¯†ç ï¼Œä¸èƒ½åšä»»ä½•äº‹\n1  mysql\u0026gt; ALTER USER \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;new password\u0026#39;;   è¿™é‡Œçš„æ–°å¯†ç ä¸èƒ½å¤ªç®€å•ï¼Œå› ä¸ºmysqlé»˜è®¤å¯¹å¯†ç æœ‰å¤æ‚åº¦è¦æ±‚\nå¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤å…³é—­å¤æ‚åº¦è¦æ±‚\n1 2 3  show global variables like \u0026#39;%validate_password%\u0026#39;; mysql\u0026gt; set global validate_password.policy=0; # å…³é—­å¯†ç å¤æ‚æ€§ç­–ç•¥ mysql\u0026gt; set global validate_password.length=4; # è®¾ç½®å¯†ç æœ€ä½é•¿åº¦ä¸º4   ","description":"","id":23,"section":"blog","tags":["mysql8","CentOS"],"title":"yumå®‰è£…mysql8ï¼ŒæŸ¥çœ‹é»˜è®¤rootå¯†ç ","uri":"http://www.shaochenfeng.com/blog/yum%E5%AE%89%E8%A3%85mysql8%E6%9F%A5%E7%9C%8B%E9%BB%98%E8%AE%A4root%E5%AF%86%E7%A0%81/"},{"content":"sedå¯ä»¥æŒ‰ç…§æŒ‡ä»¤æˆ–è„šæœ¬ç¼–è¾‘æ–‡æœ¬çš„linuxå·¥å…·ï¼Œæ–‡æœ¬å¤„ç†åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæœ¬æ–‡æ€»ç»“ä¸€äº›å·¥ä½œä¸­å¸¸ç”¨çš„sedæ¨¡æ¿ï¼Œæ–¹ä¾¿å¤§å®¶ä½¿ç”¨\næ›¿æ¢ 1. æ›¿æ¢æ–‡ä»¶ä¸­æ‰€æœ‰çš„ aaa åˆ° bbb 1  sed -i \u0026#39;s/aaa/bbb/g\u0026#39; /path/to/file   2. æ‰¾åˆ°æ–‡ä»¶çš„ä¿®æ”¹æ—¥æœŸ 1 2  stat deploy | sed -n \u0026#39;/^Modify.*/p\u0026#39; # æ‰¾åˆ° stat deploy | sed -n \u0026#39;/^Modify.*/p\u0026#39; | grep -Eo \u0026#34;....-..-.. ..:..:..\u0026#34; # æå–å‡ºä¿®æ”¹èµ·ä¹‰   2. æ‰¾åˆ° aaa å‚æ•°ï¼Œå¹¶è®¾ç½®ä¸ºoff 1  sed -i \u0026#39;/^aaa/s/on/off/\u0026#39; /path/to/file   å¯ä»¥é…åˆgrepä½¿ç”¨ï¼Œå®Œæˆè‡ªåŠ¨è®¾ç½®å‚æ•°\n1 2 3 4 5 6 7  have_aaa=$(grep aaa /path/to/file | sed \u0026#39;/^#.*/d\u0026#39;) # å¯»æ‰¾æ˜¯å¦ä»¥å­˜åœ¨aaaå‚æ•° if [ ! -z $have_aaa ];then # å¦‚æœå­˜åœ¨ sed -i \u0026#39;/^aaa/s/on/off/\u0026#39; /path/to/file # åˆ™ä¿®æ”¹ä¸ºoff else # å¦‚æœä¸å­˜åœ¨ sed -i \u0026#39;/ccc/a aaa off\u0026#39; /path/to/file # åˆ™åœ¨cccå‚æ•°ä¸‹æ–°å¢ aaa off # sed -i \u0026#39;$a/aaa off\u0026#39; /path/to/file # åˆ™åœ¨æœ€åæ–°å¢ aaa off fi   æ»¤æ‰æ‰€æœ‰æ³¨é‡Šè¡Œ 1  cat /etc/my.cnf | sed \u0026#39;/^#.*/d\u0026#39;   æ‰¾åˆ°å¹¶åˆ é™¤ æ‰¾åˆ°åŒ…å«aaaçš„è¡Œå¹¶åˆ é™¤\n1  sed -i \u0026#39;/aaa/d\u0026#39; /path/to/file   æ’å…¥è¿½åŠ   a/ åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥; i/ åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥; c/ æŠŠå½“å‰è¡Œæ”¹ä¸ºæ–°çš„;  åœ¨cccå¼€å¤´çš„è¡Œä¸‹é¢æ’å…¥ something\n1  sed -i \u0026#39;/^ccc/a something\u0026#39; /path/to/file   åœ¨cccå¼€å¤´çš„è¡Œåè¿½åŠ  something\n1  sed -i \u0026#39;/^ccc/s/$/something/\u0026#39; /path/to/file   åœ¨cccåç´§æ¥ç€è¿½åŠ something\n1  sed -i \u0026#39;s/ccc/\u0026amp;something/\u0026#39; /path/to/file   ","description":"","id":24,"section":"blog","tags":["sed","linuxå‘½ä»¤"],"title":"sedå¸¸ç”¨æ¨¡æ¿æ•´ç†","uri":"http://www.shaochenfeng.com/blog/sed%E5%B8%B8%E7%94%A8%E6%A8%A1%E6%9D%BF%E6%95%B4%E7%90%86/"},{"content":"æœ‰æ—¶æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€äº›javaæˆ–nodeåº”ç”¨ï¼Œä½†åˆä¸æƒ³è®©ä»–ä»¬ç›´æ¥ç›‘å¬80ç«¯å£ï¼Œè¿™æ—¶å°±éœ€è¦ç”¨åˆ°ç«¯å£è½¬å‘\næœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»Nginxå¦‚ä½•åšç«¯å£è½¬å‘ï¼Œè¿˜æœ‰å„ç§è½¬å‘è§„åˆ™\nå°†åŸŸåè½¬å‘åˆ°æœ¬åœ°ç«¯å£ é¦–å…ˆä»‹ç»æœ€å¸¸ç”¨çš„ï¼Œå°†åŸŸåè½¬å‘åˆ°æœ¬åœ°å¦ä¸€ä¸ªç«¯å£ä¸Š\nserver{\rlisten 80;\rserver_name tomcat.shaochenfeng.com;\rindex index.php index.html index.htm;\rlocation / {\rproxy_pass http://127.0.0.1:8080; # è½¬å‘è§„åˆ™\rproxy_set_header Host $proxy_host; # ä¿®æ”¹è½¬å‘è¯·æ±‚å¤´ï¼Œè®©8080ç«¯å£çš„åº”ç”¨å¯ä»¥å—åˆ°çœŸå®çš„è¯·æ±‚\rproxy_set_header X-Real-IP $remote_addr;\rproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r}\r}\rè¿™æ ·è®¿é—® http://tomcat.shaochenfeng.com æ—¶å°±ä¼šè½¬å‘åˆ°æœ¬åœ°çš„ 8080 ç«¯å£\nå°†åŸŸåè½¬å‘åˆ°å¦ä¸€ä¸ªåŸŸå server{\rlisten 80;\rserver_name baidu.shaochenfeng.com;\rindex index.php index.html index.htm;\rlocation / {\rproxy_pass http://www.baidu.com;\rproxy_set_header Host $proxy_host;\rproxy_set_header X-Real-IP $remote_addr;\rproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r}\r}\rè¿™æ ·è®¿é—® http://baidu.shaochenfeng.com æ—¶å°±ä¼šè½¬å‘åˆ° http://www.baidu.com\næœ¬åœ°ä¸€ä¸ªç«¯å£è½¬å‘åˆ°å¦ä¸€ä¸ªç«¯å£æˆ–å¦ä¸€ä¸ªåŸŸå server{\rlisten 80;\rserver_name 127.0.0.1; # å…¬ç½‘ip\rindex index.php index.html index.htm;\rlocation / {\rproxy_pass http://127.0.0.1:8080; # æˆ– http://www.baidu.com\rproxy_set_header Host $proxy_host;\rproxy_set_header X-Real-IP $remote_addr;\rproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r}\r}\rè¿™æ ·è®¿é—® http://127.0.0.1 æ—¶å°±ä¼šè½¬å‘åˆ°æœ¬åœ°çš„ 8080 ç«¯å£æˆ– http://www.baidu.com\nåŠ  / ä¸ä¸åŠ  / åœ¨é…ç½®proxy_passä»£ç†è½¬å‘æ—¶ï¼Œå¦‚æœåé¢çš„urlåŠ /ï¼Œè¡¨ç¤ºç»å¯¹æ ¹è·¯å¾„ï¼›å¦‚æœæ²¡æœ‰/ï¼Œè¡¨ç¤ºç›¸å¯¹è·¯å¾„\nä¾‹å¦‚\n åŠ  /  server_name shaochenfeng.com\rlocation /data/ {\rproxy_pass http://127.0.0.1/;\r}\rè®¿é—® http://shaochenfeng.com/data/index.html ä¼šè½¬å‘åˆ° http://127.0.0.1/index.html\nä¸åŠ  /  server_name shaochenfeng.com\rlocation /data/ {\rproxy_pass http://127.0.0.1;\r}\rè®¿é—® http://shaochenfeng.com/data/index.html ä¼šè½¬å‘åˆ° http://127.0.0.1/data/index.html\n","description":"","id":25,"section":"blog","tags":["ç«¯å£è½¬å‘","nginx"],"title":"Nginxç«¯å£è½¬å‘ï¼ˆåå‘ä»£ç†ï¼‰","uri":"http://www.shaochenfeng.com/blog/nginx%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"},{"content":"æ•´ä¸ªç½‘ç«™é€šå¸¸ä¼šå¾ˆå¤§ï¼Œå°¤å…¶çš„å…¶ä¸­é™æ€çš„å›¾ç‰‡è§†é¢‘ä¹‹ç±»ï¼Œä½†æˆ‘ä»¬é€šå¸¸ä¸ä¼šä¿®æ”¹ä»–ä»¬ï¼Œå¹³å¸¸åªä¼šä¿®æ”¹å‡ ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ¯æ¬¡æ›´æ–°éƒ½å°†æ•´ä¸ªç½‘ç«™ä»æœ¬åœ°ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œæ— ç–‘å¾ˆè´¹æ—¶é—´ï¼Œå¦‚æœè¦æ‰¾åˆ°ä¿®æ”¹çš„æ–‡ä»¶ï¼Œå¹¶åªä¸Šä¼ è¿™äº›æ–‡ä»¶ï¼Œç”šè‡³åªä¸Šä¼ è¿™äº›æ–‡ä»¶ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œæ— ç–‘ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚\nè¿™å°±è¦ç”¨çš„åˆ°ä»Šå¤©çš„ä¸»è§’Rsyncï¼ŒRsync å¯ä»¥æ‰§è¡Œå¢é‡å¤‡ä»½ï¼Œå®ƒåªä¼ è¾“æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶ä¹‹é—´ä¸ä¸€è‡´çš„éƒ¨åˆ†\nç¯å¢ƒï¼š\nwebæœåŠ¡å™¨rootç›®å½• /usr/share/nginx/game.shaochenfeng.com\næœ¬åœ°é¡¹ç›®ç›®å½• /git/game.shaochenfeng.com/public\né¦–å…ˆå»ºè®®é…ç½®å¥½æœ¬åœ°åˆ°webæœåŠ¡å™¨çš„sshå…å¯†ç ç™»é™†å¦‚ä½•ï¼Ÿï¼Œä¸é…ç½®éœ€è¦ä»¥åæ¯æ¬¡åŒæ­¥æ—¶è¾“å…¥å¯†ç \n1.åœ¨webæœåŠ¡å™¨ç«¯å®‰è£…rsync ç›´æ¥yumæˆ–aptå®‰è£…å°±å¯ä»¥ï¼Œåœ¨æœåŠ¡å™¨ç«¯å’Œæœ¬åœ°éƒ½å®‰è£…\n1 2  yum install rsync # çº¢å¸½ç³» apt install rsync # Debianç³»   ä¸ºä»€ä¹ˆè¦åœ¨æœåŠ¡å™¨ä¹Ÿå®‰è£…rsyncå‘¢ï¼Ÿå› ä¸ºè™½ç„¶æ˜¯é€šè¿‡sshå»ºç«‹é“¾æ¥ï¼Œä½†rsyncä½¿ç”¨çš„æ˜¯è‡ªå·±çš„ä¼ è¾“è§„åˆ™ï¼Œè€Œä¸æ˜¯scp\n2.å‘æœåŠ¡å™¨æ¨é€ åœ¨æœ¬åœ°æ‰§è¡Œï¼ŒåŒæ­¥ æœ¬åœ°é¡¹ç›®ç›®å½• åˆ° webæœåŠ¡å™¨rootç›®å½•\n1 2  rsync -avz --delete \u0026lt;æœ¬åœ°è·¯å¾„\u0026gt; www@192.168.56.10:\u0026lt;è¿œç¨‹è·¯å¾„\u0026gt; rsync -avz --delete /git/game.shaochenfeng.com/public www@192.168.56.10:/usr/share/nginx/game.shaochenfeng.com   å…¶ä¸­å‚æ•°\n -a æ˜¯é€’å½’ä¼ è¾“å¹¶ä¿æŒæ–‡ä»¶å±æ€§ï¼Œåœ¨ä¼ è¾“å¸¦æœ‰æ–‡ä»¶å¤¹æ—¶ä½¿ç”¨ï¼Œå¹¶ä¿ç•™æ–‡ä»¶çš„å±æ€§ -v æ˜¾ç¤ºä¼ è¾“è¿‡ç¨‹ -z è¿›è¡Œå‹ç¼©ä¼ è¾“ï¼Œæé«˜æ•ˆç‡ \u0026ndash;delete æœ¬åœ°åˆ é™¤çš„æ–‡ä»¶ï¼Œåœ¨æœåŠ¡å™¨ä¹Ÿä¼šè¢«åˆ é™¤  é™„ä¸Šrsyncå¸¸ç”¨é€‰é¡¹ -a åŒ…å«-rtplgoD\n-r é€’å½’ä¼ è¾“ åŒæ­¥æœ‰æ–‡ä»¶å¤¹æ—¶ä½¿ç”¨\n-v æ˜¾ç¤ºä¼ è¾“è¿‡ç¨‹\n-l ä¿ç•™è½¯è¿æ¥\n-p ä¿æŒæƒé™å±æ€§\n-o ä¿æŒå±ä¸»\n-g ä¿æŒå±ç»„\n-D ä¿æŒè®¾å¤‡æ–‡ä»¶ä¿¡æ¯\n-t ä¿æŒæ–‡ä»¶çš„æ—¶é—´å±æ€§ï¼Œè¿™ä¸ªä¸€å®šè¦æœ‰ï¼Œä¸ç„¶ä¸‹æ¬¡åŒæ­¥ä¸èƒ½åˆ¤æ–­é‚£äº›æ–‡ä»¶å‘ç”Ÿäº†ä¿®æ”¹\n\u0026ndash;backup å¯¹æœåŠ¡å™¨å·²å­˜åœ¨çš„æ–‡ä»¶åšä¸€ä¸ªå¤‡ä»½ï¼Œå¤‡ä»½çš„æ–‡ä»¶ååé»˜è®¤ä½¿ç”¨\u0026quot;~\u0026ldquo;åšåç¼€\n\u0026ndash;delete æœ¬åœ°åˆ é™¤çš„æ–‡ä»¶ï¼Œåœ¨æœåŠ¡å™¨ä¹Ÿä¼šè¢«åˆ é™¤\n\u0026ndash;exclude è¿‡æ»¤æŒ‡å®šæ–‡ä»¶ï¼Œå¦‚\u0026ndash;exclude â€œlogsâ€ä¼šæŠŠæ–‡ä»¶ååŒ…å«logsçš„æ–‡ä»¶æˆ–è€…ç›®å½•è¿‡æ»¤æ‰ï¼Œä¸åŒæ­¥\n-P æ˜¾ç¤ºåŒæ­¥è¿‡ç¨‹ï¼Œæ¯”å¦‚é€Ÿç‡ï¼Œæ¯”-væ›´åŠ è¯¦ç»†\n-u åŠ ä¸Šè¯¥é€‰é¡¹åï¼Œå¦‚æœDESTä¸­çš„æ–‡ä»¶æ¯”SRCæ–°ï¼Œåˆ™ä¸åŒæ­¥\n\u0026ndash;size-only é»˜è®¤ç®—æ³•ä¼šæ£€æŸ¥ä¿®æ”¹æ—¶é—´å’Œæ–‡ä»¶å¤§å°ï¼ŒåŠ ä¸Šè¿™ä¸ªåªæ£€æŸ¥æ–‡ä»¶å¤§å°\n-z è¿›è¡Œå‹ç¼©ä¼ è¾“ï¼Œæé«˜æ•ˆç‡\n-h \u0026ndash;progress åŒæ­¥äº†é‚£äº›æ–‡ä»¶å’Œè¿›åº¦è¿‡ç¨‹\n","description":"","id":26,"section":"blog","tags":["éƒ¨ç½²","Rsync"],"title":"ç”¨Rsync,å®ç°ç½‘ç«™çš„å¢é‡éƒ¨ç½²","uri":"http://www.shaochenfeng.com/blog/%E7%94%A8rsync%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E7%9A%84%E5%A2%9E%E9%87%8F%E9%83%A8%E7%BD%B2/"},{"content":"ç‚¹å‡»æ‰“å¼€PDF,æœ‰ä¹¦ç­¾\n","description":"","id":27,"section":"blog","tags":["å®˜æ–¹æ–‡æ¡£","è½¬è½½"],"title":"çº¢å¸½8å‘è¡Œç‰ˆè¯´æ˜PDF","uri":"http://www.shaochenfeng.com/blog/%E7%BA%A2%E5%B8%BD8%E5%8F%91%E8%A1%8C%E7%89%88%E8%AF%B4%E6%98%8Epdf/"},{"content":"1.é¦–å…ˆå¤‡ä»½å½“å‰é…ç½®æ–‡ä»¶ 1 2  mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup   2.ä¸‹è½½æ–°çš„ CentOS-Base.repo åˆ° /etc/yum.repos.d å¯¹äºCentOS8\n1 2  wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo   å¯¹äºCentOS7\n1 2  wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo   3. è¿è¡Œ yum makecache ç”Ÿæˆç¼“å­˜ 1  yum makecache   ","description":"","id":28,"section":"blog","tags":["centos","yum"],"title":"2020å¹´CentOS8(7)æ›´æ¢yumæºä¸ºé˜¿é‡Œæº","uri":"http://www.shaochenfeng.com/blog/2020%E5%B9%B4centos87%E6%9B%B4%E6%8D%A2yum%E6%BA%90%E4%B8%BA%E9%98%BF%E9%87%8C%E6%BA%90/"},{"content":"nginxæ˜¯æœ€è¿‘éå¸¸ç«çš„webæœåŠ¡å™¨ï¼Œè¿™æ¬¡CentOS8ä¹Ÿåœ¨yumå®˜æ–¹æºä¸­æ–°å¢äº†nginx 1.14\nä¸Apacheç›¸æ¯”å¯ä»¥æ‰¿æ‹…æ›´å¤§çš„å¹¶å‘ï¼Œå¹¶å ç”¨æ›´å°‘çš„å†…å­˜\nCentOS8ä½¿ç”¨äº†æ–°ä¸€ä»£çš„yumï¼Œä½¿ç”¨dnfä½œä¸ºå‘½ä»¤ï¼ˆåŸæ¥çš„yumä»¥dnfçš„è½¯é“¾æ¥å½¢å¼å­˜åœ¨ï¼‰\nå®‰è£…åªéœ€è¦ä¸€å¥ 1  dnf install nginx -y   å¦‚æœå‡ºé”™æ£€æŸ¥æ£€æŸ¥ä¸€ä¸‹ç½‘ç»œå’Œyumæºï¼Œå¦‚ä½•æ›´æ¢yumæºåˆ°é˜¿é‡Œæº\nä¸‹é¢è®¾ç½®ä¸¤ä¸ªè™šæ‹Ÿä¸»æœº è™šæ‹Ÿä¸»æœºå¯ä»¥è®©ä¸€ä¸ªwebæœåŠ¡å™¨æœåŠ¡å¤šä¸ªç½‘ç«™ï¼Œæ¯ä¸ªç½‘ç«™å¯ä»¥æœ‰ä¸åŒçš„è®¾ç½®ï¼Œä¸åŒçš„è¯­è¨€ï¼Œå¹¶ä¸”æœ‰ç‹¬ç«‹çš„æ—¥å¿—\nè¿™é‡Œå‡è®¾ä¸¤ä¸ªä¸»æœºåˆ†åˆ«ä¸º\n game.shaochenfeng.com map.shaochenfeng.com  é¦–å…ˆç¼–è¾‘nginxçš„ä¸»é…ç½®æ–‡ä»¶ï¼Œå¦‚æœè™šæ‹Ÿä¸»æœºå¾ˆå¤šçš„è¯ï¼Œåº”è¯¥å†™åˆ°å¤šä¸ªé…ç½®æ–‡ä»¶ä¸­(å¦‚ä½•ï¼Ÿ)\n1  vim /etc/nginx/nginx.conf   å¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰ä¸ªé»˜è®¤ç½‘ç«™ï¼Œä¸ç”¨ç®¡å®ƒï¼Œåœ¨çº¢è‰²ç®­å¤´å¤„æ’å…¥ä¸¤ä¸ªç½‘ç«™çš„é…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  server { listen 80; listen [::]:80; access_log /usr/share/nginx/log/game.shaochenfeng.com; error_log /usr/share/nginx/log/game.shaochenfeng.com.err error; server_name game.shaochenfeng.com; root /usr/share/nginx/game.shaochenfeng.com; location / { } } server { listen 80; listen [::]:80; access_log /usr/share/nginx/log/map.shaochenfeng.com; error_log /usr/share/nginx/log/map.shaochenfeng.com.err error; server_name map.shaochenfeng.com; root /usr/share/nginx/map.shaochenfeng.com; location / { } }   ä¿å­˜å¹¶é€€å‡º\nä¸‹é¢åˆ›å»ºè™šæ‹Ÿä¸»æœºçš„ä¸»ç›®å½•å’Œæ—¥å¿—ç›®å½•\n1 2 3 4 5 6  mkdir /usr/share/nginx/game.shaochenfeng.com # åˆ›å»ºè™šæ‹Ÿä¸»æœºçš„ä¸»ç›®å½•å’Œæ—¥å¿—ç›®å½• mkdir /usr/share/nginx/map.shaochenfeng.com #å°†ä½ çš„ç½‘ç«™æ–‡ä»¶å¤åˆ¶åˆ°ä¸Šé¢å¯¹åº”çš„ç›®å½• mkdir /usr/share/nginx/log chown nginx:nginx -R /usr/share/nginx/game.shaochenfeng.com # nginxè¿è¡Œåœ¨nginxç”¨æˆ·ä¸‹ï¼Œæ‰€ä»¥è¦ç»™ç½‘ç«™æ–‡ä»¶æˆäºˆæƒé™ chown nginx:nginx -R /usr/share/nginx/map.shaochenfeng.com   å¯åŠ¨å¹¶å¼€æœºå¯åŠ¨nginx\n1 2 3  systemctl enable nginx # è®¾ç½®nginxå¼€æœºå¯åŠ¨ systemctl start nginx # å¯åŠ¨nginx systemctl status nginx # æŸ¥çœ‹nginxçŠ¶æ€   è¿™æ ·ï¼Œ\nå½“è®¿é—®game.shaochenfeng.comæ—¶å°±ä¼šå¾—åˆ°/usr/share/nginx/game.shaochenfeng.com/index.html\nå½“è®¿é—®map.shaochenfeng.comæ—¶å°±ä¼šå¾—åˆ°/usr/share/nginx/map.shaochenfeng.com/index.html\n","description":"","id":29,"section":"blog","tags":["è™šæ‹Ÿä¸»æœº","nginx","Centos8"],"title":"Centos8 Yumå®‰è£…nginxå¹¶è®¾ç½®è™šæ‹Ÿä¸»æœº","uri":"http://www.shaochenfeng.com/blog/centos8yum%E5%AE%89%E8%A3%85nginx%E5%B9%B6%E8%AE%BE%E7%BD%AE%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA/"},{"content":"Markdown here\n","description":"test post","id":30,"section":"docs","tags":null,"title":"Related content","uri":"http://www.shaochenfeng.com/docs/relatedcontent/"},{"content":"Markdown here\n","description":"test post","id":31,"section":"docs","tags":null,"title":"Page Resources","uri":"http://www.shaochenfeng.com/docs/pageresources/"},{"content":"Markdown here\n","description":"test post","id":32,"section":"docs","tags":null,"title":"Page Bundles","uri":"http://www.shaochenfeng.com/docs/pagebundles/"},{"content":"Markdown here\n","description":"test post","id":33,"section":"docs","tags":null,"title":"Content Formats","uri":"http://www.shaochenfeng.com/docs/contentfortmats/"},{"content":"Markdown here\n","description":"test post","id":34,"section":"docs","tags":null,"title":"Image Processing","uri":"http://www.shaochenfeng.com/docs/imageprocessing/"},{"content":"Markdown here\n","description":"test post","id":35,"section":"docs","tags":null,"title":"Shortcodes","uri":"http://www.shaochenfeng.com/docs/contentmanagement/shortcodes/"},{"content":"Markdown here\n","description":"test post","id":36,"section":"docs","tags":null,"title":"Frontmatter","uri":"http://www.shaochenfeng.com/docs/contentmanagement/frontmatter/"},{"content":"æœ¬æ–‡å°†ä»‹ç» Cè¯­è¨€æ ‡å‡†åº“\u0026lt;stdlib.h\u0026gt; ä¸­çš„ å®ã€å‡½æ•°ã€æ•°æ®ç±»å‹\nåœ¨æœ€åç»™å‡ºä¸€ä¸ªå®ä¾‹ç¨‹åºï¼Œå°½å¯èƒ½è¿ç”¨åˆ°æ‰€æœ‰å‡½æ•°\nå® EXIT_SUCCESS å’Œ EXIT_FAILURE exitå‡½æ•°æˆåŠŸé€€å‡ºå’Œå¤±è´¥çš„è¿”å›å€¼\n1 2  #define EXIT_SUCCESS\t0 #define EXIT_FAILURE\t1   RAND_MAX rand å‡½æ•°è¿”å›çš„æœ€å¤§çš„æ•° 1  #define RAND_MAX\t0x7FFF   MB_CUR_MAX ä¸€ä¸ªå¤šå­—èŠ‚å­—ç¬¦çš„æœ€å¤§å­—èŠ‚æ•° æºç å¤„ç†çš„æ¯”è¾ƒå¤æ‚\nå‡½æ•° å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º double 1  double atof (const char *);   å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º int 1  int atoi (const char *);   å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º long int 1  long atol (const char *);   å°†ä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º double str æ˜¯ä¸€ä¸ªä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œ\nè¿”å›æŠŠ str è½¬æ¢åçš„ double ï¼Œ endptr æŒ‡å‘ç¬¬ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦\n1  double strtod(const char *str, char **endptr)   å°†ä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º long int str æ˜¯ä¸€ä¸ªä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œ\nè¿”å›æŠŠ str ä»¥ base ä¸ºåŸºæ•°ï¼ˆè¿›åˆ¶ï¼‰è½¬æ¢åçš„ long int ï¼Œ\nendptr æŒ‡å‘ç¬¬ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦\n1  long int strtol(const char *str, char **endptr, int base)   str æ˜¯ä¸€ä¸ªä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œ è¿”å›æŠŠ str ä»¥ base ä¸ºåŸºæ•° è½¬æ¢åçš„ unsigned long int ï¼Œ\nendptr æŒ‡å‘ç¬¬ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦\n1  unsigned long int strtoul(const char *str, char **endptr, int base)   åˆ†é…è¯·æ±‚çš„å†…å­˜å¤§å°(nitems * size)å¹¶è¿”å›æŒ‡å‘å®ƒçš„æŒ‡é’ˆ 1  void *calloc(size_t nitems, size_t size)   åˆ†é…è¯·æ±‚çš„å†…å­˜(size)å¹¶è¿”å›æŒ‡å‘å®ƒçš„æŒ‡é’ˆ 1  void *malloc(size_t size)   è°ƒæ•´ä¹‹å‰åˆ†é…çš„å†…å­˜å—å¤§å°  ptr æ‰§è¡Œè¦è°ƒæ•´çš„å†…å­˜å— size è¦è°ƒæ•´åˆ°çš„å­—èŠ‚æ•°  1  void *realloc(void *ptr, size_t size)   å›æ”¶å…ˆå‰åˆ†é…çš„å†…å­˜ 1  void free(void *ptr)   æœç´¢ç¯å¢ƒå˜é‡å¹¶è¿”å›å­—ç¬¦ä¸² 1  char *getenv(const char *name)   æŠŠå‘½ä»¤(string)ä¼ é€’ç»™ä¸»æœºç”±ä¸»æœºæ‰§è¡Œ 1  int system(const char *string)   å¿«é€Ÿæ’åº  baseæ˜¯æ•°ç»„çš„åŸºåœ°å€ nitemsæ˜¯æ•°ç»„çš„å…ƒç´ ä¸ªæ•° sizeæ˜¯æ•°ç»„å…ƒç´ å¤§å° comparæ˜¯æ¯”è¾ƒå‡½æ•°ï¼Œé è¿”å›å€¼æ­£è´Ÿæ¥æ¯”è¾ƒï¼Œä¸º0çš„æƒ…å†µæœªå®šä¹‰  1 2  void qsort(void *base, size_t nitems, size_t size, int (*compar)(const void *, const void*))   äºŒåˆ†æŸ¥æ‰¾  keyæ˜¯è¦æŸ¥æ‰¾çš„å…ƒç´  baseæ˜¯æ•°ç»„çš„åŸºåœ°å€ numæ˜¯æ•°ç»„çš„å…ƒç´ ä¸ªæ•° sizeæ•°ç»„å…ƒç´ å¤§å° cmpæ˜¯æ¯”è¾ƒå‡½æ•°ï¼Œé è¿”å›å€¼æ­£è´Ÿæ¥æ¯”è¾ƒï¼Œæ•°ç»„å¿…é¡»æ˜¯æ’å¥½åºçš„ è¿”å›æ‰¾åˆ°çš„å…ƒç´ çš„æŒ‡é’ˆ  1 2  void *bsearch(const void *key, const void *base, size_t num, size_t size, int (*cmp)(const void *, const void *));   è¿”å›xçš„ç»å¯¹å€¼ 1 2  int abs(int x) long int labs(long int x)   åšé™¤æ³•ï¼Œåˆ†åˆ«å¾—åˆ°é™¤æ•°å’Œè¢«é™¤æ•° 1 2  div_t div(int numer, int denom) ldiv_t ldiv(long int numer, long int denom)   è¿”å›ä¸€ä¸ªéšæœºæ•°ï¼ŒèŒƒå›´(0~RAND_MAX) 1  int rand(void)   å¯¹éšæœºå‡½æ•°è®¾ç½®ç§å­ 1  void srand(unsigned int seed)   è®¡ç®—ä¸€ä¸ªå¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦  n æ˜¯å¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦çš„æœ€å¤§å€¼  1  int mblen(const char *str, size_t n)   å¤šå­—èŠ‚å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ å°†ç”±å‚æ•°stræŒ‡å‘çš„å¤šå­—èŠ‚å­—ç¬¦ä¸²è½¬æ¢ä¸ºç”±pwcsæŒ‡å‘çš„æ•°ç»„\n n æ˜¯å¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦çš„æœ€å¤§å€¼  1  size_t mbstowcs(schar_t *pwcs, const char *str, size_t n)   åœ¨ç¨‹åºæ­£å¸¸é€€å‡ºæ—¶æ‰§è¡Œ  func è¦æ‰§è¡Œçš„å‡½æ•°  1  int atexit(void (*func)(void))   ç¨‹åºå¼‚å¸¸é€€å‡º 1  void abort(void)   ç¨‹åºæ­£å¸¸é€€å‡º ,è¿”å›ç»™æ“ä½œç³»ç»Ÿ status 1  void exit(int status)   æ•°æ®ç±»å‹ size_tæ˜¯sizeofå…³é”®è¯çš„å€¼ï¼Œæ— ç¬¦å·æ•´å½¢ wchar_t å®½å­—ç¬¦ç±»å‹ div_tä¸ldiv_tç»“æ„ä½“ ä½œä¸º div çš„è¿”å›å€¼ 1 2 3 4 5 6 7 8 9  typedef struct { int quot; // å•†  int rem; // ä½™æ•° } div_t; //------------------------------- typedef struct { long int quot; // å•†  long int rem; // ä½™æ•° } ldiv_t;   ç¤ºä¾‹æ–‡ä»¶ Github\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263  #include \u0026lt;stdio.h\u0026gt;#include \u0026lt;stdlib.h\u0026gt;#include \u0026lt;string.h\u0026gt;void test(){ printf(\u0026#34;do this at exit\\n\u0026#34;); } int cmptest(const void * a, const void * b){ return (int)( *(char*)a - *(char*)b ); } int main (){ /// /// ## æ•°æ®ç±»å‹ ///  /// ### size_tæ˜¯sizeofå…³é”®è¯çš„å€¼ï¼Œæ— ç¬¦å·æ•´å½¢  printf(\u0026#34;size_t %d\\n\u0026#34;,sizeof(size_t)); /// ### wchar_t å®½å­—ç¬¦ç±»å‹  printf(\u0026#34;wchar_t %d\\n\u0026#34;,sizeof(wchar_t)); /// ### div_tä¸ldiv_tç»“æ„ä½“ ä½œä¸º div çš„è¿”å›å€¼ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// typedef struct { /// int quot; // å•† /// int rem; // ä½™æ•° /// } div_t;  div_t div_t_timp; printf(\u0026#34;div_t %d div_t.quot %d div_t.rem %d\\n\u0026#34;, sizeof(div_t),sizeof(div_t_timp.quot),sizeof(div_t_timp.rem)); /// //------------------------------- /// typedef struct { /// long int quot; // å•† /// long int rem; // ä½™æ•° /// } ldiv_t; /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  ldiv_t ldiv_t_timp; printf(\u0026#34;ldiv_t %d ldiv_t.quot %d ldiv_t.rem %d\\n\u0026#34;, sizeof(ldiv_t),sizeof(ldiv_t_timp.quot),sizeof(ldiv_t_timp.rem)); /// /// ## å® ///  /// ### EXIT_SUCCESS å’Œ EXIT_FAILURE /// exitå‡½æ•°æˆåŠŸé€€å‡ºå’Œå¤±è´¥çš„è¿”å›å€¼ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// #define EXIT_SUCCESS\t0 /// #define EXIT_FAILURE\t1 /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;EXIT_SUCCESS %d\\nEXIT_FAILURE %d\\n\u0026#34;,EXIT_SUCCESS,EXIT_FAILURE); /// ### RAND_MAX rand å‡½æ•°è¿”å›çš„æœ€å¤§çš„æ•° /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// #define RAND_MAX\t0x7FFF /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;RAND_MAX %d\\n\u0026#34;,RAND_MAX); /// ### MB_CUR_MAX ä¸€ä¸ªå¤šå­—èŠ‚å­—ç¬¦çš„æœ€å¤§å­—èŠ‚æ•° /// å¤´æ–‡ä»¶ä¸­çš„å¤„ç†æ¯”è¾ƒå¤æ‚  printf(\u0026#34;MB_CUR_MAX %d\\n\u0026#34;,MB_CUR_MAX); /// /// ## å‡½æ•° ///  /// ### å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º double /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// double atof (const char *); /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;atof(\\\u0026#34;12.3\\\u0026#34;) %f\\n\u0026#34;,atof(\u0026#34;12.3\u0026#34;)); /// ### å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º int /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// int atoi (const char *); /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;atoi(\\\u0026#34;12\\\u0026#34;) %d\\n\u0026#34;,atoi(\u0026#34;12\u0026#34;)); /// ### å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º long int /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// long atol (const char *); /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;atol(\\\u0026#34;123456789\\\u0026#34;) %ld\\n\u0026#34;,atol(\u0026#34;123456789\u0026#34;)); /// ### å°†ä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º double /// str æ˜¯ä¸€ä¸ªä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œ /// è¿”å›æŠŠ str è½¬æ¢åçš„ double ï¼Œ endptr æŒ‡å‘ç¬¬ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// double strtod(const char *str, char **endptr) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  char *p; printf(\u0026#34;strtod(\\\u0026#34;12.030 hello\\\u0026#34;,\u0026amp;p) %f\u0026#34;,strtod(\u0026#34;12.030hello\u0026#34;,\u0026amp;p)); printf(\u0026#34; %s\\n\u0026#34;,p); /// ### å°†ä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º long int /// str æ˜¯ä¸€ä¸ªä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œ /// è¿”å›æŠŠ str ä»¥ base ä¸ºåŸºæ•°ï¼ˆè¿›åˆ¶ï¼‰è½¬æ¢åçš„ long int ï¼Œ /// endptr æŒ‡å‘ç¬¬ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// long int strtol(const char *str, char **endptr, int base) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;strtol(\\\u0026#34;ffhello\\\u0026#34;,\u0026amp;p,16) %ld\u0026#34;,strtol(\u0026#34;ffhello\u0026#34;,\u0026amp;p,16)); printf(\u0026#34; %s\\n\u0026#34;,p); /// ### str æ˜¯ä¸€ä¸ªä»¥æ•°å­—å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œ /// è¿”å›æŠŠ str ä»¥ base ä¸ºåŸºæ•° è½¬æ¢åçš„ unsigned long int ï¼Œ /// endptr æŒ‡å‘ç¬¬ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// unsigned long int strtoul(const char *str, char **endptr, int base) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;strtoul(\\\u0026#34;ffhello\\\u0026#34;,\u0026amp;p,16) %uld\u0026#34;,strtoul(\u0026#34;ffhello\u0026#34;,\u0026amp;p,16)); printf(\u0026#34; %s\\n\u0026#34;,p); /// ### åˆ†é…è¯·æ±‚çš„å†…å­˜å¤§å°(nitems * size)å¹¶è¿”å›æŒ‡å‘å®ƒçš„æŒ‡é’ˆ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void *calloc(size_t nitems, size_t size) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  p = (char *)calloc(5, sizeof(char)); printf(\u0026#34;calloc(5, sizeof(char)) %p\\n\u0026#34;,p); /// ### åˆ†é…è¯·æ±‚çš„å†…å­˜(size)å¹¶è¿”å›æŒ‡å‘å®ƒçš„æŒ‡é’ˆ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void *malloc(size_t size) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  /* p = (char *)calloc(5 * sizeof(char)); */ /// ### è°ƒæ•´ä¹‹å‰åˆ†é…çš„å†…å­˜å—å¤§å° /// * ptr æ‰§è¡Œè¦è°ƒæ•´çš„å†…å­˜å— /// * size è¦è°ƒæ•´åˆ°çš„å­—èŠ‚æ•° /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void *realloc(void *ptr, size_t size) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  p = realloc(p,10*sizeof(char)); printf(\u0026#34;realloc(p,10*sizeof(char)) %p\\n\u0026#34;,p); p = realloc(p,10000*sizeof(char)); printf(\u0026#34;realloc(p,10000*sizeof(char)) %p\\n\u0026#34;,p); /// ### å›æ”¶å…ˆå‰åˆ†é…çš„å†…å­˜ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void free(void *ptr) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  free(p); /// ### æœç´¢ç¯å¢ƒå˜é‡å¹¶è¿”å›å­—ç¬¦ä¸² /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// char *getenv(const char *name) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;getenv(\\\u0026#34;PATH\\\u0026#34;) %.30s ...\\n\u0026#34;, getenv(\u0026#34;PATH\u0026#34;)); /// ### æŠŠå‘½ä»¤(string)ä¼ é€’ç»™ä¸»æœºç”±ä¸»æœºæ‰§è¡Œ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// int system(const char *string) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;system(\\\u0026#34;echo ok\\\u0026#34;)\\n\u0026#34;); system(\u0026#34;echo ok\u0026#34;); /// ### å¿«é€Ÿæ’åº /// * baseæ˜¯æ•°ç»„çš„åŸºåœ°å€ /// * nitemsæ˜¯æ•°ç»„çš„å…ƒç´ ä¸ªæ•° /// * sizeæ˜¯æ•°ç»„å…ƒç´ å¤§å° /// * comparæ˜¯æ¯”è¾ƒå‡½æ•°ï¼Œé è¿”å›å€¼æ­£è´Ÿæ¥æ¯”è¾ƒï¼Œä¸º0çš„æƒ…å†µæœªå®šä¹‰ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void qsort(void *base, size_t nitems, size_t size, /// int (*compar)(const void *, const void*)) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  p = (char *)calloc(11, sizeof(char)); strcpy(p,\u0026#34;5147096382\u0026#34;); qsort(p,10,sizeof(char),cmptest); printf(\u0026#34;qsort \u0026#34;); printf(p); putchar(\u0026#39;\\n\u0026#39;); /// ### äºŒåˆ†æŸ¥æ‰¾ /// * keyæ˜¯è¦æŸ¥æ‰¾çš„å…ƒç´  /// * baseæ˜¯æ•°ç»„çš„åŸºåœ°å€ /// * numæ˜¯æ•°ç»„çš„å…ƒç´ ä¸ªæ•° /// * sizeæ•°ç»„å…ƒç´ å¤§å° /// * cmpæ˜¯æ¯”è¾ƒå‡½æ•°ï¼Œé è¿”å›å€¼æ­£è´Ÿæ¥æ¯”è¾ƒï¼Œæ•°ç»„å¿…é¡»æ˜¯æ’å¥½åºçš„ /// * è¿”å›æ‰¾åˆ°çš„å…ƒç´ çš„æŒ‡é’ˆ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void *bsearch(const void *key, const void *base, size_t num, size_t size, /// int (*cmp)(const void *, const void *)); /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  char a = \u0026#39;3\u0026#39;; /* æœç´¢a */ printf(\u0026#34;bsearch \u0026#34;); printf((char *)bsearch(\u0026amp;a,p,10,sizeof(char),cmptest)); free(p); putchar(\u0026#39;\\n\u0026#39;); /// ### è¿”å›xçš„ç»å¯¹å€¼ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// int abs(int x) /// long int labs(long int x) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;abs(-5) %d\\n\u0026#34;,abs(-5)); /// ### åšé™¤æ³•ï¼Œåˆ†åˆ«å¾—åˆ°é™¤æ•°å’Œè¢«é™¤æ•° /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// div_t div(int numer, int denom) /// ldiv_t ldiv(long int numer, long int denom) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  div_t div_out = div(7,2); printf(\u0026#34;div(7,2)={%d,%d}\\n\u0026#34;,div_out.quot,div_out.rem); /// ### è¿”å›ä¸€ä¸ªéšæœºæ•°ï¼ŒèŒƒå›´(0~RAND_MAX) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// int rand(void) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  printf(\u0026#34;rand() = %d\\n\u0026#34;,rand()); /// ### å¯¹éšæœºå‡½æ•°è®¾ç½®ç§å­ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void srand(unsigned int seed) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  srand(15); /// ### è®¡ç®—ä¸€ä¸ªå¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦ /// * n æ˜¯å¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦çš„æœ€å¤§å€¼ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// int mblen(const char *str, size_t n) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  wchar_t mywchar = L\u0026#39;æ±‰\u0026#39;; /* æ¢æˆ\u0026#39;å›½\u0026#39;å°±ä¸è¡Œäº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ */ printf(\u0026#34;mblen(\u0026#39;%x\u0026#39;,MB_CUR_MAX) %u\\n\u0026#34;,L\u0026#39;æ±‰\u0026#39;,mblen((char *)\u0026amp;mywchar,MB_CUR_MAX)); /// ### å¤šå­—èŠ‚å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ /// å°†ç”±å‚æ•°stræŒ‡å‘çš„å¤šå­—èŠ‚å­—ç¬¦ä¸²è½¬æ¢ä¸ºç”±pwcsæŒ‡å‘çš„æ•°ç»„ /// * n æ˜¯å¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦çš„æœ€å¤§å€¼ /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// size_t mbstowcs(schar_t *pwcs, const char *str, size_t n) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  /* todu å®½å­—ç¬¦å¤„ç†çœ‹ä¸æ‡‚ int mbtowc(whcar_t *pwc, const char *str, size_t n) Examines the multibyte character pointed to by the argument str. size_t wcstombs(char *str, const wchar_t *pwcs, size_t n) Converts the codes stored in the array pwcs to multibyte characters and stores them in the string str. int wctomb(char *str, wchar_t wchar) Examines the code which corresponds to a multibyte character given by the argument wchar. */ /// ### åœ¨ç¨‹åºæ­£å¸¸é€€å‡ºæ—¶æ‰§è¡Œ /// * func è¦æ‰§è¡Œçš„å‡½æ•° /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// int atexit(void (*func)(void)) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  atexit(test); /// ### ç¨‹åºå¼‚å¸¸é€€å‡º /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void abort(void) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  /* abort(); */ /// ### ç¨‹åºæ­£å¸¸é€€å‡º ,è¿”å›ç»™æ“ä½œç³»ç»Ÿ status /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~c /// void exit(int status) /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  exit(0); }   ","description":"","id":38,"section":"blog","tags":["æ ‡å‡†åº“","c/c++"],"title":"Cè¯­è¨€æ ‡å‡†åº“stdlib","uri":"http://www.shaochenfeng.com/blog/c%E8%AF%AD%E8%A8%80%E6%A0%87%E5%87%86%E5%BA%93stdlib.h%E5%AD%A6%E4%B9%A0/"},{"content":"æˆ‘æ˜¯é‚µæ™¨å³°ï¼Œè¿™æ˜¯æˆ‘çš„ç½‘ç«™ æˆ‘æ˜¯ä¸€ä¸ªå°ç«è‹—\næˆ‘å¾ˆå°ï¼Œç»ä¸ä½é£å¹é›¨æ‰“\næˆ‘å¾ˆå¼±ï¼Œç»ä¸èµ·ç‹‚é£å¤§æµª\nä½†æ˜¯\næˆ‘ä¸ä¼šåœæ­¢è¿½æ±‚ä¼Ÿå¤§çš„è„šæ­¥\nå› ä¸º\nçˆ±ä½ ï¼Œä¸–ç•Œ\næˆ‘æ˜¯é‚µæ™¨å³°\n","description":"","id":39,"section":"blog","tags":["çºªå¿µç¢‘"],"title":"å…³äºæˆ‘","uri":"http://www.shaochenfeng.com/blog/%E5%85%B3%E4%BA%8E%E6%88%91/"},{"content":"æœ¬æ–‡ä»¥demo.example.comä¸ºä¾‹ï¼Œè¯¦ç»†ä»‹ç»äº†ä½¿ç”¨acme.shè¿›è¡Œsslç”³è¯·å’Œè‡ªåŠ¨ç»­çº¦çš„æ–¹æ³•\nå®‰è£… åªéœ€è¦ç”¨ä»»æ„ç”¨æˆ·æ‰§è¡Œ\n1  curl https://get.acme.sh | sh   acme.sh ä¼šå®‰è£…åˆ° ~/.acme.sh/ç›®å½•ä¸‹ï¼Œå¹¶åˆ›å»ºæ–°çš„è‡ªåŠ¨è®¡åˆ’ï¼ˆcronjobï¼‰åœ¨å‡Œæ™¨0ç‚¹æ£€æŸ¥æ‰€æœ‰è¯ä¹¦\nç”Ÿæˆè¯ä¹¦çš„æ–¹å¼ä¸»è¦æœ‰ä¸‰ç§  ç½‘ç«™æ–‡ä»¶æ–¹å¼ï¼Œé€‚åˆäºå·²ç»éƒ¨ç½²å¥½apacheæˆ–æ˜¯nginxæœåŠ¡å™¨çš„æƒ…å†µ ä¸´æ—¶ç›‘å¬80ç«¯å£æ–¹å¼ï¼Œé€‚åˆäºæ²¡æœ‰éƒ¨ç½²å¥½æœåŠ¡çš„æœåŠ¡å™¨ æ‰‹åŠ¨é…ç½®DNSï¼Œéœ€è¦æœ‰æ‰‹åŠ¨é…ç½®DNSçš„æƒé™ï¼Œé€‚åˆæ²¡æœ‰æœåŠ¡å™¨æˆ–æ˜¯ä¸æƒ³æ›´æ”¹æœåŠ¡å™¨çš„æƒ…å†µ  1.æ–‡ä»¶è®¤è¯ 1 2  acme.sh --issue -d \u0026lt;åŸŸå\u0026gt; --webroot \u0026lt;ç½‘ç«™æ ¹ç›®å½•\u0026gt; acme.sh --issue -d demo.example.com --webroot /home/wwwroot/demo.example.com/   2.æš‚æ—¶ç›‘å¬80ç«¯å£ 1 2  yum install socat acme.sh --issue -d demo.example.com --standalone   3. DNSæ–¹å¼ æ‰‹åŠ¨æ–¹å¼ é¦–å…ˆè·å¾—è®¤è¯éœ€è¦çš„è§£æè®°å½•\n1  acme.sh --issue --dns -d demo.example.com   ç„¶ååœ¨DNSæœåŠ¡å•†ä¸­æ·»åŠ è®°å½•\næœ€åé‡æ–°ç”Ÿæˆè¯ä¹¦\n1  acme.sh --renew -d demo.example.com   ä½¿ç”¨è¿™ç§æ–¹å¼ acme.sh å°†æ— æ³•è‡ªåŠ¨æ›´æ–°è¯ä¹¦ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨å†æ¬¡é‡æ–°è§£æéªŒè¯åŸŸåæ‰€æœ‰æƒã€‚\nè‡ªåŠ¨æ–¹å¼ dns æ–¹å¼çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥ä½¿ç”¨åŸŸåè§£æå•†æä¾›çš„ api è‡ªåŠ¨æ·»åŠ  txt è®°å½•å®ŒæˆéªŒè¯\né¦–å…ˆéœ€è¦åœ¨äº‘ä¸Šç”³è¯·æœ‰DNSé…ç½®æƒé™çš„è´¦å·å¯†ç \nè…¾è®¯äº‘ å‚è€ƒï¼š\næ“ä½œæ–¹æ³•\nåœ¨dnspodå®˜ç½‘ä¸Šç”³è¯· https://www.dnspod.cn/Login?r=/console\nç„¶åç™»å½•è¿œç¨‹æœåŠ¡å™¨\nexport DP_Id=\u0026quot;1234\u0026quot;\rexport DP_Key=\u0026quot;sADDsdasdgdsf\u0026quot;\racme.sh --issue --dns dns_dp -d demo.example.com\ré˜¿é‡Œäº‘ å‚è€ƒï¼š\næ“ä½œæ–¹æ³•\nåœ¨é˜¿é‡Œäº‘å®˜ç½‘ç™»å½•æ·»åŠ æ‹¥æœ‰DNSé…ç½®æƒé™çš„å­è´¦æˆ· https://ram.console.aliyun.com/overview\nç„¶åç™»å½•è¿œç¨‹æœåŠ¡å™¨\nexport Ali_Key=\u0026quot;AccessKeyId\u0026quot;\rexport Ali_Secret=\u0026quot;AccessKeySecret\u0026quot;\racme.sh --issue --dns dns_ali -d demo.example.com\rè¯ä¹¦çš„å®‰è£… é»˜è®¤ç”Ÿæˆçš„è¯ä¹¦éƒ½æ”¾åœ¨å®‰è£…ç›®å½•ä¸‹: ~/.acme.sh/\néœ€è¦å°†è¯ä¹¦â€œæ‹·è´â€åˆ°è‡ªå®šä¹‰ä½ç½®ï¼Œæ–¹ä¾¿é…ç½®ï¼Œè¿™é‡Œçš„å¤åˆ¶éœ€è¦ç”¨acme.shçš„è‡ªå¸¦å·¥å…·ç”¨äºæ—¥åè‡ªåŠ¨æ›´æ–°\n1 2 3 4  acme.sh --installcert -d demo.example.com \\  --key-file /usr/local/nginx/ssl/demo_example_com.key \\  --fullchain-file /usr/local/nginx/ssl/demo_example_com.cer \\  --reloadcmd \u0026#34;/usr/local/nginx/sbin/nginx -s reload\u0026#34;   apacheæœåŠ¡å™¨çš„é…ç½® æš‚æ— \nnginxæœåŠ¡å™¨çš„é…ç½® nginx è®¾ç½®ç±»ä¼¼å¦‚ä¸‹\n server {\rlisten 443 ssl;\rssl on;\rssl_certificate /usr/local/nginx/ssl/demo_example_com.cer; # è¿™é‡ŒæŒ‡å‘è¯ä¹¦å®‰è£…çš„ä½ç½®\rssl_certificate_key /usr/local/nginx/ssl/demo_example_com.key;\r}\rè®©ä½ çš„SSLæ›´å®‰å…¨ å‚è€ƒï¼šhttps://mikemiao111.com/nginx%E5%A2%9E%E5%BC%BAhttps%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/\nnginxé»˜è®¤é‡‡ç”¨1024ä½çš„åŠ å¯†ç®—æ³•ï¼Œå¦‚æœéœ€è¦çš„è¯å¯ä»¥ä½¿ç”¨2048ä½çš„ä»£æ›¿ï¼Œè¿™æ ·å¯ä»¥è®©åŠ å¯†æ›´å®‰å…¨\né¦–å…ˆç”Ÿæˆ zjk_zoollcar_top.pem æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•\n1  openssl dhparam -out /usr/local/nginx/ssl/demo_example_com.pem 2048   ç„¶ååœ¨nginxé…ç½®æ–‡ä»¶ä¸­è®¾ç½®\n server {\rlisten 443 ssl;\rssl on;\rssl_certificate /usr/local/nginx/ssl/demo_example_com.cer;\rssl_certificate_key /usr/local/nginx/ssl/demo_example_com.key;\rssl_dhparam /usr/local/nginx/ssl/demo_example_com.pem; #æ–°å¢\r}\rå¯ä»¥ç”¨ä¸‹é¢çš„ç½‘ç«™æµ‹è¯•SSLå®‰å…¨æ€§\nhttps://www.ssllabs.com/ssltest/\næ›´æ–° acme.sh ç›®å‰ç”±äº acme åè®®å’Œ letsencrypt CA éƒ½åœ¨é¢‘ç¹çš„æ›´æ–°, å› æ­¤ acme.sh ä¹Ÿç»å¸¸æ›´æ–°ä»¥ä¿æŒåŒæ­¥.\nå‡çº§ acme.sh åˆ°æœ€æ–°ç‰ˆ :\n1  acme.sh --upgrade   å¦‚æœä¸æƒ³æ‰‹åŠ¨å‡çº§, å¯ä»¥å¼€å¯è‡ªåŠ¨å‡çº§:\n1  acme.sh --upgrade --auto-upgrade   ä¹‹å, acme.sh å°±ä¼šè‡ªåŠ¨ä¿æŒæ›´æ–°äº†.\nä½ ä¹Ÿå¯ä»¥éšæ—¶å…³é—­è‡ªåŠ¨æ›´æ–°:\n1  acme.sh --upgrade --auto-upgrade 0   ","description":"","id":40,"section":"blog","tags":["https","ssl"],"title":"ä½¿ç”¨acme.shè¿›è¡Œsslç”³è¯·å’Œè‡ªåŠ¨ç»­çº¦","uri":"http://www.shaochenfeng.com/blog/acme.sh/"},{"content":"Lorem est tota propiore conpellat pectoribus de\npectora summo. Redit teque digerit hominumque toris verebor lumina non cervice\nsubde tollit usus habet Arctonque, furores quas nec ferunt. Quoque montibus nunc\ncaluere tempus\nThis article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\n\rHeadings The following HTML \u0026lt;h1\u0026gt;â€”\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution  Tiam, ad mint andaepu dandae nostion secatur sequo quae.\nNote that you can use Markdown syntax within a blockquote.\n Blockquote with attribution  Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\nâ€” Rob Pike1\n Tables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\n   Name Age     Bob 27   Alice 23    Inline Markdown within tables    InlineÂ  MarkdownÂ  InÂ  Table     italics bold strikethroughÂ  code    Code Blocks Code block with backticks html\r\u0026lt;!DOCTYPE html\u0026gt;\r\u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt;\r\u0026lt;head\u0026gt;\r\u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;\r\u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt;\r\u0026lt;/head\u0026gt;\r\u0026lt;body\u0026gt;\r\u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt;\r\u0026lt;/body\u0026gt;\r\u0026lt;/html\u0026gt;\rCode block indented with four spaces \u0026lt;!DOCTYPE html\u0026gt;\r\u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt;\r\u0026lt;head\u0026gt;\r\u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;\r\u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt;\r\u0026lt;/head\u0026gt;\r\u0026lt;body\u0026gt;\r\u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt;\r\u0026lt;/body\u0026gt;\r\u0026lt;/html\u0026gt;\r Code block with Hugo\u0026rsquo;s internal highlight shortcode 1 2 3 4 5 6 7 8 9 10  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;   List Types Ordered List  First item Second item Third item  Unordered List  List item Another item And another item  Nested list  Item  First Sub-item Second Sub-item    Other Elements â€” abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\n The above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015. \u0026#x21a9;\u0026#xfe0e;\n  ","description":"","id":41,"section":"blog","tags":["markdown","css","html","themes"],"title":"Markdown Syntax Guide","uri":"http://www.shaochenfeng.com/blog/markdown-syntax/"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;â€”\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution  Tiam, ad mint andaepu dandae nostion secatur sequo quae.\nNote that you can use Markdown syntax within a blockquote.\n Blockquote with attribution  Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\nâ€” Rob Pike1\n Tables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\n   Name Age     Bob 27   Alice 23    Inline Markdown within tables    InlineÂ  MarkdownÂ  InÂ  Table     italics bold strikethroughÂ  code    Code Blocks Code block with backticks html\r\u0026lt;!DOCTYPE html\u0026gt;\r\u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt;\r\u0026lt;head\u0026gt;\r\u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;\r\u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt;\r\u0026lt;/head\u0026gt;\r\u0026lt;body\u0026gt;\r\u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt;\r\u0026lt;/body\u0026gt;\r\u0026lt;/html\u0026gt;\rCode block indented with four spaces \u0026lt;!DOCTYPE html\u0026gt;\r\u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt;\r\u0026lt;head\u0026gt;\r\u0026lt;meta charset=\u0026quot;UTF-8\u0026quot;\u0026gt;\r\u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt;\r\u0026lt;/head\u0026gt;\r\u0026lt;body\u0026gt;\r\u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt;\r\u0026lt;/body\u0026gt;\r\u0026lt;/html\u0026gt;\r Code block with Hugo\u0026rsquo;s internal highlight shortcode 1 2 3 4 5 6 7 8 9 10  \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;   List Types Ordered List  First item Second item Third item  Unordered List  List item Another item And another item  Nested list  Item  First Sub-item Second Sub-item    Other Elements â€” abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\n The above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015. \u0026#x21a9;\u0026#xfe0e;\n  ","description":"Sample article showcasing basic Markdown syntax and formatting for HTML elements.","id":42,"section":"docs","tags":["markdown","css","html","themes"],"title":"Section","uri":"http://www.shaochenfeng.com/docs/contentmanagement/sections/"},{"content":"Lorem est tota propiore conpellat pectoribus de\npectora summo. Redit teque digerit hominumque toris verebor lumina non cervice\nsubde tollit usus habet Arctonque, furores quas nec ferunt. Quoque montibus nunc\ncaluere tempus\ninhospita parcite confusaque translucet patri vestro qui optatis\nlumine cognoscere flos nubis! Fronde ipsamque patulos Dryopen deorum.\n Exierant elisi ambit vivere dedere Duce pollice Eris modo Spargitque ferrea quos palude  Rursus nulli murmur; hastile inridet ut ab gravi sententia! Nomine potitus\nsilentia flumen, sustinet placuit petis in dilapsa erat sunt. Atria\ntractus malis.\n Comas hunc haec pietate fetum procerum dixit Post torum vates letum Tiresia Flumen querellas Arcanaque montibus omnes Quidem et  Vagus elidunt \nThe Van de Graaf Canon\nMane refeci capiebant unda mulcebat Victa caducifer, malo vulnere contra\ndicere aurato, ludit regale, voca! Retorsit colit est profanae esse virescere\nfurit nec; iaculi matertera et visa est, viribus. Divesque creatis, tecta novat collumque vulnus est, parvas. Faces illo pepulere tempus adest. Tendit flamma, ab opes virum sustinet, sidus sequendo urbis.\nIubar proles corpore raptos vero auctor imperium; sed et huic: manus caeli\nLelegas tu lux. Verbis obstitit intus oblectamina fixis linguisque ausus sperare\nEchionides cornuaque tenent clausit possit. Omnia putatur. Praeteritae refert\nausus; ferebant e primus lora nutat, vici quae mea ipse. Et iter nil spectatae\nvulnus haerentia iuste et exercebat, sui et.\nEurytus Hector, materna ipsumque ut Politen, nec, nate, ignari, vernum cohaesit sequitur. Vel mitis temploque vocatus, inque alis, oculos nomen non silvis corpore coniunx ne displicet illa. Crescunt non unus, vidit visa quantum inmiti flumina mortis facto sic: undique a alios vincula sunt iactata abdita! Suspenderat ego fuit tendit: luna, ante urbem\nPropoetides parte.\n","description":"","id":43,"section":"blog","tags":["markdown","text"],"title":"Placeholder Text","uri":"http://www.shaochenfeng.com/blog/placeholder-text/"},{"content":"Lorem est tota propiore conpellat pectoribus de\npectora summo. Redit teque digerit hominumque toris verebor lumina non cervice\nsubde tollit usus habet Arctonque, furores quas nec ferunt. Quoque montibus nunc\ncaluere tempus\nEmoji can be enabled in a Hugo project in a number of ways.\n\rThe emojify function can be called directly in templates or Inline Shortcodes.\nTo enable emoji globally, set enableEmoji to true in your siteâ€™s configuration and then you can type emoji shorthand codes directly in content files; e.g.\nğŸ™ˆ ğŸ™ˆ ğŸ™‰ ğŸ™‰ ğŸ™Š ğŸ™Š\nThe Emoji cheat sheet is a useful reference for emoji shorthand codes.\nN.B. The above steps enable Unicode Standard emoji characters and sequences in Hugo, however the rendering of these glyphs depends on the browser and the platform. To style the emoji you can either use a third party emoji font or a font stack; e.g.\n1 2 3  .emoji { font-family: Apple Color Emoji,Segoe UI Emoji,NotoColorEmoji,Segoe UI Symbol,Android Emoji,EmojiSymbols; }  ","description":"","id":44,"section":"blog","tags":["emoji"],"title":"Emoji Support","uri":"http://www.shaochenfeng.com/blog/emoji-support/"},{"content":"æ›´æ–°äº 2020å¹´2æœˆ æºä½œè€…å·²ä¸å†ç»´æŠ¤ï¼Œè¯·è°¨æ…é€‰æ‹© æœ€è¿‘åœ¨é€›Githubæ—¶å‘ç°äº†ä¸€ä¸ªå•æ–‡ä»¶è·¨å¹³å°é›¶ä¾èµ–çš„å›¾å½¢åº“nuklearï¼Œè¿™ä½¿æˆ‘äº§ç”Ÿäº†å…´è¶£ï¼Œä¸€ä¸ªå¤§çº¦ä¸¤ä¸‡è¡Œçš„ç¨‹åºï¼Œå®ç°äº†å¾ˆä¸é”™çš„æ•ˆæœï¼Œæ›´ç¥å¥‡çš„æ˜¯å®ƒæ˜¯é›¶ä¾èµ–çš„ï¼Œè¿™æ„å‘³ç€å¯ä»¥è¿ç”¨åˆ°ç±»ä¼¼å•ç‰‡æœºç­‰ç‰¹æ®Šç¯å¢ƒï¼Œäºæ˜¯æˆ‘æœæ–­Forkäº†å®ƒå¼€å§‹äº†å­¦ä¹ ä¹‹è·¯zoollcar/nuklearï¼Œä¸‹é¢æˆ‘ä»¬åˆ†æä¸‹nuklearå›¾å½¢åº“çš„æºä»£ç \nç»¼è¿° é¦–å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹æä¾›çš„demoï¼ˆwin guiç‰ˆï¼‰ï¼Œåé¢ä¼šä¸€éƒ¨åˆ†ä¸€éƒ¨åˆ†çš„åˆ†æ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  /* win32 å®ç°ç»†èŠ‚*/ while (running) { /* è¾“å…¥éƒ¨åˆ† */ /* win32 å®ç°ç»†èŠ‚ */ nk_input_begin(ctx); /* input ç»†èŠ‚ */ nk_input_end(ctx); /* GUI éƒ¨åˆ† */ if (nk_begin(ctx, \u0026#34;Demo\u0026#34;, nk_rect(50, 50, 200, 200), NK_WINDOW_BORDER|NK_WINDOW_MOVABLE|NK_WINDOW_SCALABLE| NK_WINDOW_CLOSABLE|NK_WINDOW_MINIMIZABLE|NK_WINDOW_TITLE)) { enum {EASY, HARD}; static int op = EASY; static int property = 20; /* å›ºå®šå°éƒ¨ä»¶åƒç´ å®½åº¦ï¼ˆçºµå‘å¸ƒå±€ï¼‰ */ /* åˆ›å»ºå°éƒ¨ä»¶ä¹‹å‰ä½¿ç”¨ nk_layout_xxx æ¥è¯´æ˜åé¢çš„å°éƒ¨ä»¶å¸ƒå±€ */ nk_layout_row_static(ctx, 30/* é«˜åº¦ */, 80/* å…ƒç´ å®½åº¦ */, 1/* ä¸ªæ•° */); if (nk_button_label(ctx, \u0026#34;button\u0026#34;)){ /* ç‚¹å‡»äº‹ä»¶ */ fprintf(stdout, \u0026#34;button pressed\\n\u0026#34;); } /* å°éƒ¨ä»¶æ¨ªå‘åŠ¨æ€å¸ƒå±€ï¼ˆé»˜è®¤æ˜¯çºµå‘ï¼‰ */ nk_layout_row_dynamic(ctx, 30, 2); if (nk_option_label(ctx, \u0026#34;easy\u0026#34;, op == EASY)) op = EASY; if (nk_option_label(ctx, \u0026#34;hard\u0026#34;, op == HARD)) op = HARD; nk_layout_row_dynamic(ctx, 22, 1); nk_property_int(ctx, \u0026#34;Compression:\u0026#34;, 0, \u0026amp;property, 100, 10, 1); } nk_end(ctx); /* ç»˜åˆ¶éƒ¨åˆ† */ nk_gdi_render(nk_rgb(30,30,30)); /* å¹³å°ä¸“ç”¨æ¸²æŸ“ */ }   è¿™é‡Œå»é™¤äº†win32å®ç°ç»†èŠ‚ï¼Œå› ä¸ºå®ƒæœ¬èº«è™½ç„¶æ˜¯è·¨å¹³å°çš„ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰éƒ¨åˆ†éƒ½è·¨å¹³å°\næ•´ä¸ªç¨‹åºå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªè¾“å…¥éƒ¨åˆ†ï¼ŒGUIéƒ¨åˆ†ï¼Œç»˜åˆ¶éƒ¨åˆ†ï¼Œä»–ä»¬çš„å…³ç³»æ˜¯è¿™æ ·çš„ï¼š\ngraph TD;\rè¾“å…¥éƒ¨åˆ†--è¾“å…¥ä¿¡æ¯--\u0026gt;GUIéƒ¨åˆ†;\rGUIéƒ¨åˆ†--ç»˜åˆ¶å‘½ä»¤--\u0026gt;ç»˜åˆ¶éƒ¨åˆ†;\råœ¨ nuklear ä¸­ä¸€ä¸ªç§°ä¸ºä¸Šä¸‹æ–‡çš„å˜é‡ä¼šè´¯ç©¿æ•´ä¸ªç¨‹åºï¼Œå…¶ç±»å‹ä¸ºnk_contextï¼Œå…¶ä¸­è®°å½•äº†è¿™ä¸ªç¨‹åºå‡ ä¹æ‰€æœ‰çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¾“å…¥ç»“æ„ä½“ã€æ•´ä½“æ ·å¼ã€ä¸ªä¸ªçª—å£ã€æ¸²æŸ“å‘½ä»¤ç¼“å†²åŒºï¼Œå®ƒèµ·ç€è¿æ¥ nuklear æ‰€æœ‰éƒ¨åˆ†çš„åŠŸèƒ½\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25  /* ä¸Šä¸‹æ–‡ */ struct nk_context { struct nk_input input; /* è¾“å…¥ */ struct nk_style style; /* æ ·å¼ */ struct nk_buffer memory; /* ç¼“å†²åŒº */ struct nk_clipboard clip; /* å‰ªåˆ‡æ¿ */ nk_flags last_widget_state; /* æœ€è¿‘ä¸€ä¸ªå°éƒ¨ä»¶çŠ¶æ€ */ enum nk_button_behavior button_behavior; /* æŒ‰é’®è¡Œä¸ºæ˜¯é»˜è®¤è¿˜æ˜¯è¢«æ›¿æ¢çš„ */ struct nk_configuration_stacks stacks; float delta_time_seconds; /* æ—¶é—´ï¼ˆç§’ï¼‰ */ /* å…¶ä»–ç»†èŠ‚ */ /* çª—å£ */ int build; int use_pool; struct nk_pool pool; struct nk_window *begin; /* çª—å£é“¾è¡¨ */ struct nk_window *end; struct nk_window *active; /* æ¿€æ´»çª—å£ */ struct nk_window *current; /* å½“å‰çª—å£ */ struct nk_page_element *freelist; unsigned int count; unsigned int seq; };   è¾“å…¥éƒ¨åˆ† input API è´Ÿè´£ç»„ç»‡ä¸€ä¸ªç”±å½“å‰é¼ æ ‡ã€æŒ‰é”®å’Œæ–‡æœ¬è¾“å…¥æ‰€ç»„æˆçš„è¾“å…¥çŠ¶æ€ï¼ˆnk_inputç»“æ„ä½“ï¼‰ã€‚ nuklear å¹¶æ²¡æœ‰ç›´æ¥ä¸ç³»ç»Ÿé€šä¿¡ï¼Œæœ‰è¾“å…¥çŠ¶æ€éƒ½å¿…é¡»ç”±ç‰¹å®šäºå¹³å°çš„ä»£ç æä¾›çš„ã€‚\nnk_input_begin ä¼šæ¸…ç©ºå½“å‰çš„çŠ¶æ€ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨nk_input_motionã€nk_input_keyã€nk_input_buttonã€nk_input_scrollã€nk_input_char ç­‰ è¿™äº›è¾“å…¥å‡½æ•°å°†æ¶ˆæ¯æä¾›ç»™nuklearï¼Œnuklearä¼šå°†è¿™äº›ä¿¡æ¯è®°å½•åœ¨nk_inputç»“æ„ä½“ä¸­ã€‚nk_inputç»“æ„ä½“ åœ¨ nk_context ä¸»ä¸Šä¸‹æ–‡ä¸­ã€‚\nä¸‹é¢æ˜¯nk_inputçš„æ•°æ®ç»“æ„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  /* nk_inputç»“æ„ä½“ï¼Œåˆ†ä¸ºé”®ç›˜å’Œé¼ æ ‡ */ struct nk_input { struct nk_keyboard keyboard; struct nk_mouse mouse; }; /* é¼ æ ‡ç»“æ„ä½“ */ struct nk_mouse { struct nk_mouse_button buttons[NK_BUTTON_MAX]; struct nk_vec2 pos; struct nk_vec2 prev; struct nk_vec2 delta; struct nk_vec2 scroll_delta; unsigned char grab; unsigned char grabbed; unsigned char ungrab; }; /* é”®ç›˜ç»“æ„ä½“ */ struct nk_keyboard { struct nk_key keys[NK_KEY_MAX]; char text[NK_INPUT_MAX]; int text_len; };   æœ€åä½¿ç”¨ nk_input_end ç»“æŸè¾“å…¥è¿‡ç¨‹ï¼Œè¿™ä¼šå›ºå®šä¸‹è¾“å…¥ä¿¡æ¯ï¼ŒçŸ¥é“ä¸‹ä¸€å¸§ä¸­æ‰§è¡Œ nk_input_begin ã€‚\nGUIéƒ¨åˆ† è¿™éƒ¨åˆ†æ˜¯ nuklear ä¸­æœ€ç²¾å½©çš„éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†æ˜¯è·¨å¹³å°çš„ï¼Œå®ƒä¼šå°†è¿™éƒ¨åˆ†ä¸­æ³¨å†Œçš„å°éƒ¨ä»¶ï¼ˆæŒ‰é’®ï¼Œå•é€‰ï¼Œæ–‡å­—ç­‰ï¼‰è½¬æ¢ä¸ºæ¸²æŸ“éƒ¨åˆ†éœ€è¦çš„ç®€å•å‘½ä»¤\næ€»çš„æ¥è¯´ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ç”¨å°½å¯èƒ½ç®€å•çš„å‘½ä»¤åˆ¶ä½œå‡ºç¾è§‚çš„ UI ã€‚\nå»ºç«‹ä¸€ä¸ªæ–°çª—å£çš„æ–¹æ³•æ˜¯ ä½¿ç”¨ nk_begin å®ƒä¼šåœ¨ä¸Šä¸‹æ–‡ä¸­æ–°å»ºä¸€ä¸ªçª—å£ï¼Œç„¶åçš„æ“ä½œå°±éƒ½åœ¨è¿™ä¸ªçª—å£è¿›è¡Œäº†\nåœ¨å‘çª—å£åŠ å…¥å°éƒ¨ä»¶å‰éœ€è¦å…ˆè®¾å®šå¸ƒå±€ï¼Œ nuklear ä½¿ç”¨çš„æ˜¯åŸºäºè¡Œçš„å¸ƒå±€ï¼Œä½¿ç”¨ nk_layout_xxx æ¥ä¸ºå½“å‰è¡Œè®¾ç½®å¸ƒå±€ï¼Œåé¢å†åŠ å…¥çš„å°éƒ¨ä»¶å°±ä½¿ç”¨è¿™ä¸ªå¸ƒå±€æä¾›çš„ä½ç½®å’Œå¤§å°äº†ã€‚\næ”¾ç½®å°éƒ¨ä»¶å¯ä»¥è°ƒç”¨ nk_button_xxx ã€ nk_option_xxx ç­‰å‡½æ•°åˆ›å»ºï¼Œä»–ä»¬ä¼šä½¿ç”¨ nk_widget ä»çª—å£çš„ layout ä¸­å¾—åˆ°ä¸‹ä¸€ä¸ªå°éƒ¨ä»¶çš„ä½ç½®å¤§å°ä¿¡æ¯ï¼Œç„¶åå°†æ¸²æŸ“ä¿¡æ¯åŠ å…¥åˆ°æ¸²æŸ“å‘½ä»¤ç¼“å†²åŒº\næœ€åä½¿ç”¨ nk_end ç»“æŸå»ºç«‹è¿™ä¸ªçª—å£ï¼Œå¯ä»¥å»ºç«‹ä¸‹ä¸€ä¸ªçª—å£äº†\nå…·ä½“æ¥è¯´ï¼Œ nk_begin å»ºç«‹äº†ä¸€ä¸ªæ–°çª—å£ï¼Œ nk_layout_xxx è®¾ç½®è¿™ä¸ªçª—å£çš„ layout å±æ€§æ¥æ§åˆ¶ä¸‹é¢å°éƒ¨ä»¶çš„ä½ç½®å’Œå¤§å°ï¼Œ nk_button ç­‰å»ºç«‹å°éƒ¨ä»¶çš„å‡½æ•°ä½¿ç”¨ä»çª—å£ä¸­å¾—åˆ°ä½ç½®å¤§å°ä¿¡æ¯ï¼Œç„¶åå¤„ç†åŠ å…¥åˆ°ç¼“å†²åŒº\nä¸‹é¢ç»“åˆä»£ç çœ‹ä¸€éï¼š\næ–°å»ºçª—å£ ï¼ˆä¸ºäº†æ•ˆæœè¿›è¡Œäº†å‰Šå‡ï¼Œçªå‡ºé‡ç‚¹ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55  /* å»ºç«‹ä¸€ä¸ªæ–°çª—å£ï¼Œåˆ†ç¦»çš„æ ‡é¢˜å’Œæ ‡è¯†ç¬¦çš„çª—å£ï¼Œå…è®¸å‡ºç°å…·æœ‰ç›¸åŒåç§°ä½†ä¸åŒæ ‡é¢˜çš„å¤šä¸ªçª—å£ */ NK_API int nk_begin_titled(struct nk_context *ctx, const char *name, const char *title, struct nk_rect bounds, nk_flags flags) { struct nk_window *win; struct nk_style *style; /* æ­¤å¤„çœç•¥å¯¹å‚æ•°è¿›è¡Œå¯è¡Œæ€§æ£€éªŒçš„ä»£ç  */ /* ä¸‹é¢åˆ¤æ–­è¿™ä¸ªåå­—æ˜¯å¦å·²ç»å­˜åœ¨ç›¸åŒçš„çª—å£ */ /* å¦‚æœæœ‰æ›´æ–°çª—å£ï¼Œå¦åˆ™æ–°å»ºçª—å£ */ style = \u0026amp;ctx-\u0026gt;style; title_len = (int)nk_strlen(name); /* å°†çª—å£åå­—è®¡ç®—ä¸ºä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œæ¯”è¾ƒå“ˆå¸Œå€¼æ¯”å­—ç¬¦ä¸²æ¯”è¾ƒå¿« */ title_hash = nk_murmur_hash(name, (int)title_len, NK_WINDOW_TITLE); /* å¯»æ‰¾çª—å£ï¼Œè¿”å›å€¼ä¸º0è¡¨ç¤ºæ²¡æ‰¾åˆ°ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ªnk_windowæŒ‡é’ˆè¯´æ˜æ‰¾åˆ°äº† */ win = nk_find_window(ctx, title_hash, name); /* ä¸‹é¢åˆ›å»ºæˆ–æ›´æ–°çª—å£ */ if (!win) { /* åˆ›å»ºä¸€ä¸ªæ–°çª—å£ create new window */ nk_size name_length = (nk_size)nk_strlen(name); win = (struct nk_window*)nk_create_window(ctx); NK_ASSERT(win); if (!win) return 0; /* å°†çª—å£æ·»åŠ åˆ° ctx */ if (flags \u0026amp; NK_WINDOW_BACKGROUND) nk_insert_window(ctx, win, NK_INSERT_FRONT);/* é¡¶éƒ¨æ·»åŠ  */ else nk_insert_window(ctx, win, NK_INSERT_BACK);/* å°¾éƒ¨æ·»åŠ  */ /* åˆå§‹åŒ–å‘½ä»¤ç¼“å†²åŒº */ nk_command_buffer_init(\u0026amp;win-\u0026gt;buffer, \u0026amp;ctx-\u0026gt;memory, NK_CLIPPING_ON); win-\u0026gt;flags = flags; win-\u0026gt;bounds = bounds; win-\u0026gt;name = title_hash; /* å¦‚æœçª—å£åå­—æ¯”æœ€å¤§é•¿åº¦é•¿ï¼Œä¼šè¢«æˆªæ–­ */ name_length = NK_MIN(name_length, NK_WINDOW_MAX_NAME-1); NK_MEMCPY(win-\u0026gt;name_string, name, name_length); win-\u0026gt;name_string[name_length] = 0; /* ä¸æ˜¯å¼¹å‡ºå¼çª—å£ */ win-\u0026gt;popup.win = 0; if (!ctx-\u0026gt;active) ctx-\u0026gt;active = win; } else { /* çœç•¥æ›´æ–°çª—å£çš„ä»£ç  */ } /* çœç•¥åé¢ä¼šå¯¹é¼ æ ‡ç‚¹å‡»åçª—å£çš„æ’åˆ—è¿›è¡Œæ§åˆ¶ï¼Œå¤§è‡´å°±æ˜¯ç‚¹å“ªä¸ªå“ªä¸ªæ”¾åˆ°çª—å£é“¾è¡¨é¡¶ç«¯ */ win-\u0026gt;layout = (struct nk_panel*)nk_create_panel(ctx); ctx-\u0026gt;current = win; ret = nk_panel_begin(ctx, title, NK_PANEL_WINDOW); win-\u0026gt;layout-\u0026gt;offset_x = \u0026amp;win-\u0026gt;scrollbar.x; win-\u0026gt;layout-\u0026gt;offset_y = \u0026amp;win-\u0026gt;scrollbar.y; return ret; }   è®¾ç½®å¸ƒå±€å‡½æ•°ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64  NK_LIB void nk_row_layout(struct nk_context *ctx, enum nk_layout_format fmt,/* fmt å¸ƒå±€ç±»å‹ */ float height, int cols, int width) { /* æ›´æ–°å½“å‰è¡Œå¹¶è®¾ç½®å½“å‰è¡Œçš„å¸ƒå±€ */ struct nk_window *win; NK_ASSERT(ctx); NK_ASSERT(ctx-\u0026gt;current); NK_ASSERT(ctx-\u0026gt;current-\u0026gt;layout); if (!ctx || !ctx-\u0026gt;current || !ctx-\u0026gt;current-\u0026gt;layout) return; win = ctx-\u0026gt;current; /* åˆ›å»ºæ¨ªå‘ cols ä¸ªé¢æ¿ é«˜åº¦æ˜¯ height */ nk_panel_layout(ctx, win, height, cols); /* åœ¨ä¸‹é¢ */ /* æ ¹æ®å¸ƒå±€ç±»å‹è®¾ç½® */ if (fmt == NK_DYNAMIC) win-\u0026gt;layout-\u0026gt;row.type = NK_LAYOUT_DYNAMIC_FIXED;/* å›ºå®šå®½åº¦ */ else win-\u0026gt;layout-\u0026gt;row.type = NK_LAYOUT_STATIC_FIXED;/* åŠ¨æ€å®½åº¦ */ win-\u0026gt;layout-\u0026gt;row.ratio = 0; win-\u0026gt;layout-\u0026gt;row.filled = 0; win-\u0026gt;layout-\u0026gt;row.item_offset = 0; win-\u0026gt;layout-\u0026gt;row.item_width = (float)width; } NK_LIB void nk_panel_layout(const struct nk_context *ctx, struct nk_window *win, float height, int cols) { struct nk_panel *layout; const struct nk_style *style; struct nk_command_buffer *out; struct nk_vec2 item_spacing; struct nk_color color; /* çœç•¥å¯¹å‚æ•°å¯è¡Œæ€§æ£€éªŒ */ /* å…ˆè·å¾—ä¸€äº›é¢„è®¾çš„é…ç½®æ•°æ® prefetch some configuration data */ layout = win-\u0026gt;layout; style = \u0026amp;ctx-\u0026gt;style; out = \u0026amp;win-\u0026gt;buffer; color = style-\u0026gt;window.background; item_spacing = style-\u0026gt;window.spacing; /* æ›´æ–°å½“å‰è¡Œå¹¶è®¾ç½®å½“å‰è¡Œå¸ƒå±€ update the current row and set the current row layout */ /* é€šè¿‡å‰é¢è·å¾—çš„ layout æŒ‡é’ˆæ›´æ”¹åé¢çš„å°éƒ¨ä»¶éƒ½ä¼šä½¿ç”¨çš„ win-\u0026gt;layout */ layout-\u0026gt;row.index = 0; layout-\u0026gt;at_y += layout-\u0026gt;row.height; layout-\u0026gt;row.columns = cols; if (height == 0.0f) layout-\u0026gt;row.height = NK_MAX(height, layout-\u0026gt;row.min_height) + item_spacing.y; else layout-\u0026gt;row.height = height + item_spacing.y; layout-\u0026gt;row.item_offset = 0; if (layout-\u0026gt;flags \u0026amp; NK_WINDOW_DYNAMIC) { /* ä¸ºåŠ¨æ€åŒºåŸŸè®¾ç½®èƒŒæ™¯ draw background for dynamic panels */ struct nk_rect background; background.x = win-\u0026gt;bounds.x; background.w = win-\u0026gt;bounds.w; background.y = layout-\u0026gt;at_y - 1.0f; background.h = layout-\u0026gt;row.height + 1.0f; nk_fill_rect(out, background, 0, color); } }   åˆ›å»ºå°éƒ¨ä»¶ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125  /* åˆ›å»ºæŒ‰é’® */ NK_API int nk_button_text_styled(struct nk_context *ctx, const struct nk_style_button *style, const char *title, int len) { struct nk_window *win; struct nk_panel *layout; const struct nk_input *in; struct nk_rect bounds; enum nk_widget_layout_states state; /* çœç•¥å¯¹å‚æ•°å¯è¡Œæ€§æ£€éªŒ */ /* ä» nk_context ä¸­å¾—åˆ°ä½ç½®å’Œå¤§å°çš„ nk_rect */ win = ctx-\u0026gt;current; layout = win-\u0026gt;layout; state = nk_widget(\u0026amp;bounds, ctx); if (!state) return 0; /* ç”ŸæˆæŒ‰é’® */ in = (state == NK_WIDGET_ROM || layout-\u0026gt;flags \u0026amp; NK_WINDOW_ROM) ? 0 : \u0026amp;ctx-\u0026gt;input; return nk_do_button_text(\u0026amp;ctx-\u0026gt;last_widget_state, \u0026amp;win-\u0026gt;buffer, bounds, title, len, style-\u0026gt;text_alignment, ctx-\u0026gt;button_behavior, style, in, ctx-\u0026gt;style.font); } /* ç”ŸæˆæŒ‰é’®å‡½æ•° */ NK_LIB int nk_do_button_text(nk_flags *state, struct nk_command_buffer *out, struct nk_rect bounds, const char *string, int len, nk_flags align, enum nk_button_behavior behavior, const struct nk_style_button *style, const struct nk_input *in, const struct nk_user_font *font) { struct nk_rect content; int ret = nk_false; /* çœç•¥å¯¹å‚æ•°å¯è¡Œæ€§æ£€éªŒ */ /* è®¡ç®—å’Œè¿”å›æŒ‰é’®ç‚¹å‡»äº‹ä»¶ */ /* è¿™é‡Œçš„ä½¿ç”¨ nk_input ç»“æ„ä¸­çš„é¼ æ ‡ç‚¹å‡»ä½ç½®è®¡ç®—æ˜¯å¦ç‚¹å‡»åˆ°æŒ‰é’® */ /* å¦‚æœç‚¹å‡»åˆ°æŒ‰é’®ï¼Œä¼šè¿”å›ç›¸åº”çš„ç‚¹å‡»äº‹ä»¶ï¼Œè¿™ä¸ªæ—¶é—´ä¼šä¸€è·¯è¿”å›åˆ°ç”¨æˆ·ä»£ç ä¸­çš„ifåˆ¤æ–­ */ ret = nk_do_button(state, out, bounds, style, in, behavior, \u0026amp;content); if (style-\u0026gt;draw_begin) style-\u0026gt;draw_begin(out, style-\u0026gt;userdata);/* ç»˜åˆ¶å¼€å§‹çš„å›è°ƒ */ /* ç»˜åˆ¶æŒ‰é’®ï¼Œç”ŸæˆæŒ‰é’®æ–‡å­— */ nk_draw_button_text(out, \u0026amp;bounds, \u0026amp;content, *state, style, string, len, align, font); if (style-\u0026gt;draw_end) style-\u0026gt;draw_end(out, style-\u0026gt;userdata);/* ç»˜åˆ¶å®Œæˆçš„å›è°ƒ */ return ret; } /* çœŸæ­£ç»˜åˆ¶æŒ‰é’® å¤–è§‚ */ NK_LIB const struct nk_style_item* nk_draw_button(struct nk_command_buffer *out, const struct nk_rect *bounds, nk_flags state, const struct nk_style_button *style) { const struct nk_style_item *background; if (state \u0026amp; NK_WIDGET_STATE_HOVER) background = \u0026amp;style-\u0026gt;hover; else if (state \u0026amp; NK_WIDGET_STATE_ACTIVED) background = \u0026amp;style-\u0026gt;active; else background = \u0026amp;style-\u0026gt;normal; if (background-\u0026gt;type == NK_STYLE_ITEM_IMAGE) { /* å¦‚æœæ˜¯å›¾ç‰‡èƒŒæ™¯ï¼Œå°±ç»˜åˆ¶å›¾ç‰‡ */ nk_draw_image(out, *bounds, \u0026amp;background-\u0026gt;data.image, nk_white); } else { /* å¦åˆ™ç»˜åˆ¶çŸ©å½¢ */ nk_fill_rect(out, *bounds, style-\u0026gt;rounding, background-\u0026gt;data.color); nk_stroke_rect(out, *bounds, style-\u0026gt;rounding, style-\u0026gt;border, style-\u0026gt;border_color); } return background; } /* ç»˜åˆ¶çŸ©å½¢ */ NK_API void nk_fill_rect(struct nk_command_buffer *b, struct nk_rect rect, float rounding, struct nk_color c) { struct nk_command_rect_filled *cmd; /* çœç•¥å¯¹å‚æ•°å¯è¡Œæ€§æ£€éªŒ */ /* å°†ç»˜åˆ¶å‘½ä»¤æ”¾å…¥å‘½ä»¤ç¼“å†²åŒºä¸­ï¼Œå…ˆæ”¾å…¥å†è®¾ç½®å±æ€§ */ cmd = (struct nk_command_rect_filled*) nk_command_buffer_push(b, NK_COMMAND_RECT_FILLED, sizeof(*cmd)); if (!cmd) return; cmd-\u0026gt;rounding = (unsigned short)rounding; cmd-\u0026gt;x = (short)rect.x; cmd-\u0026gt;y = (short)rect.y; cmd-\u0026gt;w = (unsigned short)NK_MAX(0, rect.w); cmd-\u0026gt;h = (unsigned short)NK_MAX(0, rect.h); cmd-\u0026gt;color = c; } /* å°†å‘½ä»¤åŠ å…¥åˆ°å‘½ä»¤ç¼“å†² æ‰€æœ‰çš„ç»˜åˆ¶å‘½ä»¤éƒ½ç”¨è¿™ä¸ª */ NK_LIB void* nk_command_buffer_push(struct nk_command_buffer* b, enum nk_command_type t, nk_size size) { NK_STORAGE const nk_size align = NK_ALIGNOF(struct nk_command); struct nk_command *cmd; nk_size alignment; void *unaligned; void *memory; NK_ASSERT(b); NK_ASSERT(b-\u0026gt;base); if (!b) return 0; /* æ–°å»ºä¸€å—ç¼“å†²åŒºåŒºåŸŸï¼Œç”¨æ¥å°†å‘½ä»¤åŠ å…¥ç¼“å†²åŒº */ cmd = (struct nk_command*)nk_buffer_alloc(b-\u0026gt;base,NK_BUFFER_FRONT,size,align); if (!cmd) return 0; /* ç¡®ä¿ä¸‹ä¸€å‘½ä»¤çš„åç§»é‡æ˜¯å¯¹é½çš„ make sure the offset to the next command is aligned */ b-\u0026gt;last = (nk_size)((nk_byte*)cmd - (nk_byte*)b-\u0026gt;base-\u0026gt;memory.ptr); unaligned = (nk_byte*)cmd + size; memory = NK_ALIGN_PTR(unaligned, align); alignment = (nk_size)((nk_byte*)memory - (nk_byte*)unaligned); #ifdef NK_ZERO_COMMAND_MEMORY  NK_MEMSET(cmd, 0, size + alignment); #endif  cmd-\u0026gt;type = t; cmd-\u0026gt;next = b-\u0026gt;base-\u0026gt;allocated + alignment; #ifdef NK_INCLUDE_COMMAND_USERDATA  cmd-\u0026gt;userdata = b-\u0026gt;userdata; #endif  b-\u0026gt;end = cmd-\u0026gt;next; /* è¿”å›å»ºå¥½çš„æ–°å‘½ä»¤æŒ‡é’ˆ */ return cmd; }   æ¸²æŸ“éƒ¨åˆ† è¿™ä¸ªåº“è¢«è®¾è®¡ä¸ºæ¨ç»™åç«¯ç»˜åˆ¶ æ‰€ä»¥å®ƒä¸ä¼šç›´æ¥åœ¨å±å¹•ä¸Šç»˜åˆ¶ä»»ä½•å›¾å½¢. è€Œæ˜¯ç»˜åˆ¶å½¢çŠ¶ã€å°éƒ¨ä»¶ç­‰ã€‚ è¿™ä¼šç¼“å†²è¿›å†…å­˜å¹¶ç»„æˆå‘½ä»¤é˜Ÿåˆ—ã€‚ æ¯ä¸€å¸§ä¼šæœ‰ä¸€ä¸ªå¸¦æœ‰ç»˜åˆ¶å‘½ä»¤çš„å‘½ä»¤ç¼“å†²åŒºï¼Œæä¾›ç»™åç«¯ è¿™äº›ç»˜åˆ¶å‘½ä»¤éœ€è¦ç”¨æˆ·åœ¨ä»–ä»¬è‡ªå·±çš„åç«¯ç»˜åˆ¶ä¸­å®ç° ä¹‹åï¼Œå‘½ä»¤ç¼“å†²åŒºä¼šè¢«æ¸…é™¤ï¼Œå¹¶ä¸”å¼€å§‹å¯åŠ¨ä¸€ä¸ªæ–°å¸§ã€‚\nåç«¯æ˜¯ç”¨æˆ·ç¼–å†™çš„åœ¨è‡ªå·±è®¾å¤‡ä¸Šå¯ä»¥æ‰§è¡Œ nuklear éœ€è¦çš„æœ€å°å‘½ä»¤é›†çš„ä¸€ç»„å‡½æ•°\nå…¶ä¸­é‡ç‚¹åœ¨äºéå†GUIéƒ¨åˆ†æä¾›çš„å‘½ä»¤é˜Ÿåˆ—ï¼Œç„¶åæ ¹æ®å‘½ä»¤ç±»å‹æ‰§è¡Œç›¸åº”æ“ä½œ\nä¸‹é¢çœ‹ä¸€ä¸‹ nuklear è‡ªå¸¦çš„åœ¨win32 GUIä¸Šçš„å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  NK_API void nk_gdi_render(struct nk_color clear) { const struct nk_command *cmd; HDC memory_dc = gdi.memory_dc; SelectObject(memory_dc, GetStockObject(DC_PEN)); SelectObject(memory_dc, GetStockObject(DC_BRUSH)); nk_gdi_clear(memory_dc, clear); nk_foreach(cmd, \u0026amp;gdi.ctx) { switch (cmd-\u0026gt;type) { case NK_COMMAND_NOP: break; case NK_COMMAND_SCISSOR: { const struct nk_command_scissor *s =(const struct nk_command_scissor*)cmd; nk_gdi_scissor(memory_dc, s-\u0026gt;x, s-\u0026gt;y, s-\u0026gt;w, s-\u0026gt;h); } break; case NK_COMMAND_LINE: { const struct nk_command_line *l = (const struct nk_command_line *)cmd; nk_gdi_stroke_line(memory_dc, l-\u0026gt;begin.x, l-\u0026gt;begin.y, l-\u0026gt;end.x, l-\u0026gt;end.y, l-\u0026gt;line_thickness, l-\u0026gt;color); } break; /* çœç•¥ç±»ä¼¼çš„å¤„ç† */ } nk_gdi_blit(gdi.window_dc); nk_clear(\u0026amp;gdi.ctx); }   ","description":"","id":45,"section":"blog","tags":["nuklear"],"title":"nuklearçš„è®¾è®¡ä¸æºç åˆ†æ","uri":"http://www.shaochenfeng.com/blog/nuklear%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]